# üöÄ –î–µ–ø–ª–æ–π –¢–ó—à–Ω–∏–∫ v2.0 –Ω–∞ VPS

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- **–û–°**: Ubuntu 20.04+ / Debian 11+
- **Python**: 3.10 - 3.13
- **RAM**: 150 –ú–ë (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 256+ –ú–ë)
- **–î–∏—Å–∫**: 500 –ú–ë
- **CPU**: 30%+

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ç–∞—Ä–∏—Ñ: **CODING-2** –∏–ª–∏ **CODING-3**

| –¢–∞—Ä–∏—Ñ | RAM | –ü–æ–¥—Ö–æ–¥–∏—Ç? | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-------|-----|-----------|-------------|
| CODING-1 | 100 –ú–ë | ‚ö†Ô∏è –í–ø—Ä–∏—Ç—ã–∫ | –ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ |
| **CODING-2** | 175 –ú–ë | ‚úÖ –ú–∏–Ω–∏–º—É–º | –ë–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ |
| **CODING-3** | 300 –ú–ë | ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É—é | –ó–∞–ø–∞—Å –¥–ª—è –ø–∏–∫–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫ |
| CODING-4+ | 400+ –ú–ë | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | –° –∑–∞–ø–∞—Å–æ–º –Ω–∞ –±—É–¥—É—â–µ–µ |

> üí° **–ú–æ–π –≤—ã–±–æ—Ä: CODING-3 (75 RUB/–º–µ—Å)** - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

## üì¶ –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@your-server-ip

# –°–æ–∑–¥–∞—ë–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p ~/bots
cd ~/bots

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ–µ–∫—Ç (—á–µ—Ä–µ–∑ Git –∏–ª–∏ SCP)
# –í–∞—Ä–∏–∞–Ω—Ç 1 - Git:
git clone https://github.com/your-repo/TelegramBot_v2.git

# –í–∞—Ä–∏–∞–Ω—Ç 2 - SCP (—Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞):
# scp -r TelegramBot_v2/ user@server:~/bots/
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
cd ~/bots/TelegramBot_v2

# –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x scripts/*.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
./scripts/install.sh
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

```bash
nano .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```env
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# –í–∞—à Telegram ID (—É–∑–Ω–∞—Ç—å: @userinfobot)
ADMIN_USER_ID=123456789

# API –∫–ª—é—á Gemini (https://makersuite.google.com/app/apikey)
GEMINI_API_KEY=AIzaSy...

# –†–µ–∂–∏–º (false –¥–ª—è production!)
DEBUG=false
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
# –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
./scripts/start.sh

# –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç - Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
```

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

```bash
# –ö–æ–ø–∏—Ä—É–µ–º systemd —Å–µ—Ä–≤–∏—Å
sudo cp /tmp/tzshnik-bot.service /etc/systemd/system/

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º systemd
sudo systemctl daemon-reload

# –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable tzshnik-bot

# –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
sudo systemctl start tzshnik-bot

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
sudo systemctl status tzshnik-bot
```

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º

### –ö–æ–º–∞–Ω–¥—ã systemd:
```bash
# –°—Ç–∞—Ç—É—Å
sudo systemctl status tzshnik-bot

# –ó–∞–ø—É—Å–∫
sudo systemctl start tzshnik-bot

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl stop tzshnik-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart tzshnik-bot

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo journalctl -u tzshnik-bot -f
```

### –°–∫—Ä–∏–ø—Ç—ã:
```bash
# –°—Ç–∞—Ç—É—Å
./scripts/status.sh

# –ó–∞–ø—É—Å–∫ (–±–µ–∑ systemd)
./scripts/start.sh

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
./scripts/stop.sh
```

---

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –õ–æ–≥–∏ –±–æ—Ç–∞
tail -f ~/bots/TelegramBot_v2/logs/bot.log

# –õ–æ–≥–∏ –æ—à–∏–±–æ–∫
tail -f ~/bots/TelegramBot_v2/logs/error.log

# –õ–æ–≥–∏ —á–µ—Ä–µ–∑ systemd
sudo journalctl -u tzshnik-bot -n 100

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo journalctl -u tzshnik-bot -f
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞

```bash
cd ~/bots/TelegramBot_v2

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl stop tzshnik-bot

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
git pull origin main

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
source venv/bin/activate
pip install -r requirements.txt

# –ó–∞–ø—É—Å–∫
sudo systemctl start tzshnik-bot
```

---

## ‚ö†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
sudo journalctl -u tzshnik-bot -n 50

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
cd ~/bots/TelegramBot_v2
source venv/bin/activate
python -m bot.main
```

### –û—à–∏–±–∫–∞ "Permission denied"

```bash
# –ü—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
chmod -R 755 ~/bots/TelegramBot_v2
chmod +x scripts/*.sh
```

### –û—à–∏–±–∫–∞ –ø–∞–º—è—Ç–∏ (OOM)

–ï—Å–ª–∏ –±–æ—Ç —É–±–∏–≤–∞–µ—Ç—Å—è –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –û—Ç–∫–ª—é—á–∏—Ç–µ swap (–µ—Å–ª–∏ –Ω–µ—Ç)
sudo fallocate -l 512M /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile

# –î–æ–±–∞–≤—å—Ç–µ –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
```

### –ë–æ—Ç –∑–∞–≤–∏—Å–∞–µ—Ç

```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl kill tzshnik-bot
sudo systemctl start tzshnik-bot
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```
~/bots/TelegramBot_v2/
‚îú‚îÄ‚îÄ .env                 # ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ù–ï –ö–û–ú–ú–ò–¢–ò–¢–¨!)
‚îú‚îÄ‚îÄ bot/                 # –ö–æ–¥ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ core/                # AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
‚îú‚îÄ‚îÄ database/            # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ database.sqlite  # ‚Üê SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ exports/             # PDF —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îú‚îÄ‚îÄ bot.log          # ‚Üê –õ–æ–≥–∏ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ error.log        # ‚Üê –õ–æ–≥–∏ –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ install.sh       # –£—Å—Ç–∞–Ω–æ–≤–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ start.sh         # –ó–∞–ø—É—Å–∫
‚îÇ   ‚îú‚îÄ‚îÄ stop.sh          # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ status.sh        # –°—Ç–∞—Ç—É—Å
‚îî‚îÄ‚îÄ venv/                # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ .env —Ñ–∞–π–ª–∞:
```bash
chmod 600 .env
```

### –§–∞–π–µ—Ä–≤–æ–ª (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω):
```bash
# –¢–æ–ª—å–∫–æ SSH
sudo ufw allow ssh
sudo ufw enable
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
cp data/database.sqlite data/database.sqlite.backup

# –ü–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
tar -czvf backup.tar.gz data/ .env
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `sudo journalctl -u tzshnik-bot -n 100`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env: `cat .env`
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫: `python -m bot.main`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–º—è—Ç—å: `free -h`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∏—Å–∫: `df -h`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –§–µ–≤—Ä–∞–ª—å 2026
