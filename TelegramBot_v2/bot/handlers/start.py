"""
ะะฑัะฐะฑะพััะธะบะธ ััะฐััะพะฒัั ะบะพะผะฐะฝะด.

ะกะพะดะตัะถะธั:
- /start - ะฟัะธะฒะตัััะฒะธะต ะธ ะณะปะฐะฒะฝะพะต ะผะตะฝั
- /help - ัะฟัะฐะฒะบะฐ
- ะะฝะพะฟะบะธ ะณะปะฐะฒะฝะพะณะพ ะผะตะฝั (ะะฐะปะฐะฝั, ะััะพัะธั)
"""

from aiogram import Router, F
from aiogram.filters import Command, CommandStart
from aiogram.types import Message, CallbackQuery
from aiogram.fsm.context import FSMContext
import structlog

from database import get_user_stats, get_user_generations, get_generation_by_id
from database.models import User
from bot.keyboards import (
    get_main_menu_keyboard,
    get_balance_keyboard,
    get_start_inline_keyboard,
    get_history_keyboard,
    get_tz_detail_keyboard,
    get_back_keyboard,
)
from bot.states import GenerationStates


logger = structlog.get_logger()
router = Router(name="start")


# ============================================================
# ะขะะะกะขะซ ะกะะะะฉะะะะ
# ============================================================

START_MESSAGE = """
๐ฏ <b>ะขะัะฝะธะบ</b> โ ัะฒะพะน AI-ะฟะพะผะพัะฝะธะบ ะดะปั ะผะฐัะบะตัะฟะปะตะนัะพะฒ

ะกะพะทะดะฐั ะฟัะพัะตััะธะพะฝะฐะปัะฝัะต ัะตัะฝะธัะตัะบะธะต ะทะฐะดะฐะฝะธั ะดะปั ะธะฝัะพะณัะฐัะธะบะธ ะบะฐััะพัะตะบ ัะพะฒะฐัะพะฒ ะฝะฐ Wildberries ะธ Ozon.

โโโโโโโโโโโโโโโโโโโโโ

๐ฅ <b>ะงัะพ ั ัะผะตั:</b>
โข ะะฝะฐะปะธะทะธััั ัะพัะพ ัะพะฒะฐัะฐ ั ะฟะพะผะพััั AI
โข ะะตะฝะตัะธััั ะดะตัะฐะปัะฝัะต ะขะ ะดะปั ะดะธะทะฐะนะฝะตัะฐ
โข ะะพัะพะฒัะต ัะตะบััั, ัะฒะตัะฐ, ััััะบัััะฐ ัะปะฐะนะดะพะฒ
โข ะญะบัะฟะพัั ะฒ PDF ะดะปั ะฟะตัะตะดะฐัะธ ะธัะฟะพะปะฝะธัะตะปั

โฑ <b>ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั:</b>
1. ะัะฟัะฐะฒั ัะพัะพ ัะพะฒะฐัะฐ (1-5 ัั.)
2. ะัะฑะตัะธ ะบะฐัะตะณะพัะธั
3. ะะพะปััะธ ะณะพัะพะฒะพะต ะขะ ะทะฐ 30-60 ัะตะบ!

โโโโโโโโโโโโโโโโโโโโโ

๐ฐ <b>ะขะฒะพะน ะฑะฐะปะฐะฝั: {balance} ะณะตะฝะตัะฐัะธะน</b>

๐ ะะฐะถะผะธ ยซ๐ ะกะพะทะดะฐัั ะขะยป ััะพะฑั ะฝะฐัะฐัั!
"""

HELP_MESSAGE = """
๐ <b>ะกะฟัะฐะฒะบะฐ ะฟะพ ะขะัะฝะธะบั</b>

<b>ะะพะผะฐะฝะดั:</b>
/start โ ะะปะฐะฒะฝะพะต ะผะตะฝั
/help โ ะญัะฐ ัะฟัะฐะฒะบะฐ

<b>ะะฐะบ ัะพะทะดะฐัั ะขะ:</b>
1. ะะฐะถะผะธ ยซ๐ ะกะพะทะดะฐัั ะขะยป
2. ะัะฟัะฐะฒั ะพั 1 ะดะพ 5 ัะพัะพ ัะพะฒะฐัะฐ
3. ะัะฑะตัะธ ะบะฐัะตะณะพัะธั
4. ะะพะถะดะธัั ะณะตะฝะตัะฐัะธะธ (30-60 ัะตะบ)
5. ะกะบะฐัะฐะน PDF ะธะปะธ ะฟะตัะตะณะตะฝะตัะธััะน

<b>ะะฐะปะฐะฝั:</b>
โข ะะฐะถะดะฐั ะณะตะฝะตัะฐัะธั = 1 ะบัะตะดะธั
โข ะะพะฟะพะปะฝะธัั: ะฝะฐะถะผะธ ยซ๐ฐ ะะฐะปะฐะฝัยป
โข ะะพะฒัะต ะฟะพะปัะทะพะฒะฐัะตะปะธ: {free_credits} ะฑะตัะฟะปะฐัะฝัั ะณะตะฝะตัะฐัะธะน

<b>ะกะพะฒะตัั ะดะปั ะปัััะตะณะพ ัะตะทัะปััะฐัะฐ:</b>
๐ท ะัะฟะพะปัะทัะน ะบะฐัะตััะฒะตะฝะฝัะต ัะพัะพ
๐ท ะะพะบะฐะถะธ ัะพะฒะฐั ั ัะฐะทะฝัั ััะพัะพะฝ
๐ท ะะพะฑะฐะฒั ัะพัะพ ัะฟะฐะบะพะฒะบะธ

ะะพะฟัะพัั? ะะฐะฟะธัะธ @TZshnik_support_bot
"""

BALANCE_MESSAGE = """
๐ฐ <b>ะขะฒะพะน ะฑะฐะปะฐะฝั: {balance} ะณะตะฝะตัะฐัะธะน</b>

๐ <b>ะกัะฐัะธััะธะบะฐ:</b>
โข ะัะตะณะพ ัะพะทะดะฐะฝะพ ะขะ: {total_generations}
โข ะฃัะฟะตัะฝัั: {successful}

{status_text}

โโโโโโโโโโโโโโโโโโโโโ

๐ณ <b>ะะพะฟะพะปะฝะธัั ะฑะฐะปะฐะฝั:</b>
"""

MENU_MESSAGE = """
๐ <b>ะะปะฐะฒะฝะพะต ะผะตะฝั ะขะัะฝะธะบะฐ</b>

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะกะพะทะดะฐัั ะขะ</b> โ ัะพะทะดะฐัั ะฝะพะฒะพะต ัะตัะฝะธัะตัะบะพะต ะทะฐะดะฐะฝะธะต

๐ฐ <b>ะะฐะปะฐะฝั</b> โ ะฟัะพะฒะตัะธัั ะบะพะปะธัะตััะฒะพ ะพััะฐะฒัะธััั ะณะตะฝะตัะฐัะธะน ะธ ะฟะพะฟะพะปะฝะธัั

๐ <b>ะะพะธ ะขะ</b> โ ะธััะพัะธั ัะฒะพะธั ะณะตะฝะตัะฐัะธะน

๐ <b>ะัะธะผะตัั</b> โ ะฟะพัะผะพััะตัั ะฟัะธะผะตัั ะณะพัะพะฒัั ะขะ

โโโโโโโโโโโโโโโโโโโโโ

๐ณ <b>ะขะฐัะธัั:</b>
๐ ะัะพะฑะฝัะน โ 3 ะขะ ะทะฐ 79โฝ
๐น ะกัะฐัั โ 5 ะขะ ะทะฐ 129โฝ
๐ฆ ะะฐะทะพะฒัะน โ 10 ะขะ ะทะฐ 229โฝ
โญ ะะฟัะธะผะฐะปัะฝัะน โ 25 ะขะ ะทะฐ 449โฝ ๐ฅ
๐ ะัะพัะธ โ 50 ะขะ ะทะฐ 749โฝ
๐ผ ะะธะทะฝะตั โ 100 ะขะ ะทะฐ 1 290โฝ ๐
๐ข ะะพัะฟะพัะฐัะธะฒะฝัะน โ 250 ะขะ ะทะฐ 2 790โฝ

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะะะะะะข</b> โ 1 790โฝ/ะผะตััั
    ะะตะพะณัะฐะฝะธัะตะฝะฝัะต ะณะตะฝะตัะฐัะธะธ ะฝะฐ 30 ะดะฝะตะน!

โโโโโโโโโโโโโโโโโโโโโ

โ ะะพะดะดะตัะถะบะฐ: @TZshnik_support_bot
"""

EXAMPLES_MESSAGE = """
๐ <b>ะัะธะผะตัั ะณะพัะพะฒัั ะขะ</b>

ะัะฑะตัะธ ะบะฐัะตะณะพัะธั, ััะพะฑั ัะฒะธะดะตัั ะบะฐัะตััะฒะตะฝะฝัะน ะฟัะธะผะตั ัะตัะฝะธัะตัะบะพะณะพ ะทะฐะดะฐะฝะธั ะดะปั ะธะฝัะพะณัะฐัะธะบะธ:

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะดะตะถะดะฐ ะธ ะฐะบัะตัััะฐัั</b>
ะะปะฐััั, ะบัััะบะธ, ะพะฑัะฒั, ััะผะบะธ

๐ฑ <b>ะญะปะตะบััะพะฝะธะบะฐ</b>
ะะฐััะฝะธะบะธ, ัะผะฐัััะพะฝั, ะฐะบัะตัััะฐัั

๐ <b>ะะพัะผะตัะธะบะฐ ะธ ััะพะด</b>
ะัะตะผั, ััะฒะพัะพัะบะธ, ะดะตะบะพัะฐัะธะฒะฝะฐั ะบะพัะผะตัะธะบะฐ

๐ <b>ะขะพะฒะฐัั ะดะปั ะดะพะผะฐ</b>
ะขะตะบััะธะปั, ะดะตะบะพั, ะบััะพะฝะฝัะต ะฟัะธะฝะฐะดะปะตะถะฝะพััะธ

๐ถ <b>ะะตััะบะธะต ัะพะฒะฐัั</b>
ะะณัััะบะธ, ะพะดะตะถะดะฐ, ัะฐะทะฒะธะฒะฐััะธะต ัะพะฒะฐัั

โฝ <b>ะกะฟะพัั ะธ ะพัะดัั</b>
ะกะฟะพััะธะฒะฝะฐั ะพะดะตะถะดะฐ, ะธะฝะฒะตะฝัะฐัั, ัััะธะทะผ

โโโโโโโโโโโโโโโโโโโโโ

๐ ะัะฑะตัะธ ะบะฐัะตะณะพัะธั ะดะปั ะฟัะพัะผะพััะฐ ะฟัะธะผะตัะฐ:
"""


# ============================================================
# ะะะขะะะฌะะซะ ะะะะะะะซ ะะ ะะะขะะะะะะฏะ
# ============================================================

EXAMPLE_CLOTHES = """
๐ <b>ะะะะะะ ะขะ: ะะดะตะถะดะฐ ะธ ะฐะบัะตัััะฐัั</b>

โโโโโโโโโโโโโโโโโโโโโ

๐ฆ <b>ะขะะะะ</b>
ะะตัะฝะตะต ะฟะปะฐััะต ะผะฐะบัะธ ั ัะฒะตัะพัะฝัะผ ะฟัะธะฝัะพะผ
ะะฐัะตัะธะฐะป: ะฒะธัะบะพะทะฐ 95%, ัะปะฐััะฐะฝ 5%
ะะฐะทะผะตัั: S, M, L, XL, XXL

โโโโโโโโโโโโโโโโโโโโโ

๐ฅ <b>ะฆะะะะะะฏ ะะฃะะะขะะะะฏ</b>
โข ะะตะฝัะธะฝั 25-45 ะปะตั
โข ะกัะตะดะฝะธะน+ ะดะพัะพะด
โข ะฆะตะฝัั ะบะพะผัะพัั ะธ ััะธะปั
โข ะะพะบัะฟะฐัั ะดะปั ะพัะฟััะบะฐ/ะฟัะพะณัะปะพะบ/ัะฒะธะดะฐะฝะธะน

โโโโโโโโโโโโโโโโโโโโโ

๐จ <b>ะะะะฃะะะฌะะะฏ ะะะะฆะะะฆะะฏ</b>
ะกัะธะปั: ะฝะตะถะฝัะน ัะพะผะฐะฝัะธะบ
ะะฐัััะพะตะฝะธะต: ะปัะณะบะพััั, ะถะตะฝััะฒะตะฝะฝะพััั, ะปะตัะพ
ะฆะฒะตัะพะฒะฐั ะฟะฐะปะธััะฐ:
โข ะัะฝะพะฒะฝะพะน: #FFB6C1 (ะฝะตะถะฝะพ-ัะพะทะพะฒัะน)
โข ะะบัะตะฝั: #228B22 (ะทะตะปัะฝัะน ะปะธัั)
โข ะคะพะฝ: #FFF5EE (ะบัะตะผะพะฒัะน)
โข ะขะตะบัั: #2F4F4F (ััะผะฝะพ-ัะตััะน)

โโโโโโโโโโโโโโโโโโโโโ

๐ธ <b>ะะะะะะะ ะคะะขะ (ะกะปะฐะนะด 1)</b>
โข ะะพะดะตะปั ะฒ ะฟะปะฐััะต ะฒ ะฟะพะปะฝัะน ัะพัั
โข ะคะพะฝ: ะฝะตะนััะฐะปัะฝัะน ัะฒะตัะปัะน ะณัะฐะดะธะตะฝั
โข ะัะฒะตัะตะฝะธะต: ะผัะณะบะพะต, ะตััะตััะฒะตะฝะฝะพะต
โข ะะพะทะฐ: ะปัะณะบะฐั, ะฝะตะฟัะธะฝัะถะดัะฝะฝะฐั

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะคะะะะะคะะะ (ะกะปะฐะนะดั 2-7)</b>

<b>ะกะปะฐะนะด 2 โ ะฃะขะ ะธ ะฟัะตะธะผััะตััะฒะฐ</b>
ะะฐะณะพะปะพะฒะพะบ: "ะขะฒะพั ะธะดะตะฐะปัะฝะพะต ะปะตัะฝะตะต ะฟะปะฐััะต"
โข ะะบะพะฝะบะฐ ัะบะฐะฝะธ + "ะััะฐัะฐั ะฒะธัะบะพะทะฐ"
โข ะะบะพะฝะบะฐ ะดะปะธะฝั + "ะญะปะตะณะฐะฝัะฝะฐั ะผะฐะบัะธ ะดะปะธะฝะฐ"
โข ะะบะพะฝะบะฐ ัะฐะทะผะตัะฐ + "ะะฐะทะผะตัั S-XXL"

<b>ะกะปะฐะนะด 3 โ ะะตัะฐะปะธ ะธ ะบะฐัะตััะฒะพ</b>
โข ะััะฟะฝัะน ะฟะปะฐะฝ ะฟัะธะฝัะฐ
โข ะะพะบะฐะท ัะฒะพะฒ ะธ ะบะฐัะตััะฒะฐ ะฟะพัะธะฒะฐ
โข ะคััะฝะธัััะฐ (ะตัะปะธ ะตััั)

<b>ะกะปะฐะนะด 4 โ ะะฐะทะผะตัะฝะฐั ัะตัะบะฐ</b>
โข ะะฐะณะปัะดะฝะฐั ัะฐะฑะปะธัะฐ ัะฐะทะผะตัะพะฒ
โข ะะฐัะฐะผะตััั: ะณััะดั, ัะฐะปะธั, ะฑัะดัะฐ, ะดะปะธะฝะฐ
โข ะะตะบะพะผะตะฝะดะฐัะธะธ ะฟะพ ะฒัะฑะพัั ัะฐะทะผะตัะฐ

<b>ะกะปะฐะนะด 5 โ ะะฑัะฐะทั ะธ ัะพัะตัะฐะฝะธั</b>
โข 3 ะฒะฐัะธะฐะฝัะฐ ะพะฑัะฐะทะฐ ั ะฟะปะฐััะตะผ
โข ะะพะดัะพะดััะฐั ะพะฑัะฒั ะธ ะฐะบัะตัััะฐัั
โข ะะปั ัะฐะทะฝัั ัะปััะฐะตะฒ

<b>ะกะปะฐะนะด 6 โ ะฃัะพะด ะทะฐ ะธะทะดะตะปะธะตะผ</b>
โข ะะบะพะฝะบะธ ััะธัะบะธ, ะณะปะฐะถะบะธ
โข ะัะพัััะต ะธะฝััััะบัะธะธ
โข ะกัะพะบ ัะปัะถะฑั

<b>ะกะปะฐะนะด 7 โ ะะพััะฐะฒะบะฐ ะธ ะณะฐัะฐะฝัะธะธ</b>
โข ะกัะพะบะธ ะดะพััะฐะฒะบะธ
โข ะะตัะฟะปะฐัะฝัะน ะฒะพะทะฒัะฐั
โข ะัะทัะฒั ะฟะพะบัะฟะฐัะตะปะตะน

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะขะะะซะ ะขะะะกะขะซ</b>

ะะฐะณะพะปะพะฒะพะบ: "ะะตัะฝะตะต ะฟะปะฐััะต ะผะฐะบัะธ โ ะะฐั ััะธะปั ััะพะณะพ ัะตะทะพะฝะฐ"

ะฃะขะ: 
โข "ะััะธั ะฒ ะถะฐัั โ 95% ะฝะฐัััะฐะปัะฝะฐั ะฒะธัะบะพะทะฐ"
โข "ะกััะพะนะฝะธั ัะธะปััั โ ะฟัะธัะฐะปะตะฝะฝัะน ะบัะพะน"
โข "ะฃะฝะธะฒะตััะฐะปัะฝัะน ะฟัะธะฝั โ ะพั ะฟะปัะถะฐ ะดะพ ัะตััะพัะฐะฝะฐ"

ะัะธะทัะฒ: "ะะพะฑะฐะฒั ะฒ ะบะพัะทะธะฝั ะธ ััะฐะฝั ัะฐะผะพะน ััะธะปัะฝะพะน ััะธะผ ะปะตัะพะผ!"

โโโโโโโโโโโโโโโโโโโโโ

๐ก <b>ะะะะะะะะะะฆะะ ะะะะะะะะะฃ</b>
โข ะัะฟะพะปัะทะพะฒะฐัั ะฝะตะถะฝัะต ะฟะฐััะตะปัะฝัะต ัะพะฝะฐ
โข ะะพะฑะฐะฒะธัั ะปัะณะบะธะต ัะฒะตัะพัะฝัะต ัะปะตะผะตะฝัั ะดะตะบะพัะฐ
โข ะจัะธััั: ัะพะฒัะตะผะตะฝะฝัะต ั ะทะฐัะตัะบะฐะผะธ ะดะปั ะทะฐะณะพะปะพะฒะบะพะฒ
โข ะะฝะพะณะพ ะฒะพะทะดััะฐ ะฒ ะบะพะผะฟะพะทะธัะธะธ

โโโโโโโโโโโโโโโโโโโโโ

๐ฌ <b>A/B ะขะะกะข</b>
ะะฐัะธะฐะฝั ะ: ะคะพัะพ ะผะพะดะตะปะธ ะฝะฐ ะฝะตะนััะฐะปัะฝะพะผ ัะพะฝะต
ะะฐัะธะฐะฝั ะ: ะคะพัะพ ะผะพะดะตะปะธ ะฝะฐ ะฟัะธัะพะดะต (ะฟะฐัะบ/ัะฐะด)

โโโโโโโโโโโโโโโโโโโโโ

๐ <i>ะฅะพัะตัั ัะฐะบะพะต ะถะต ะขะ ะดะปั ัะฒะพะตะณะพ ัะพะฒะฐัะฐ?</i>
"""


EXAMPLE_ELECTRONICS = """
๐ฑ <b>ะะะะะะ ะขะ: ะญะปะตะบััะพะฝะธะบะฐ</b>

โโโโโโโโโโโโโโโโโโโโโ

๐ฆ <b>ะขะะะะ</b>
ะะตัะฟัะพะฒะพะดะฝัะต TWS ะฝะฐััะฝะธะบะธ ั ััะผะพะฟะพะดะฐะฒะปะตะฝะธะตะผ
ะัะตะผั ัะฐะฑะพัั: 8ั (ะบะตะนั: 32ั)
Bluetooth 5.3, IPX4 ะทะฐัะธัะฐ

โโโโโโโโโโโโโโโโโโโโโ

๐ฅ <b>ะฆะะะะะะฏ ะะฃะะะขะะะะฏ</b>
โข ะัะถัะธะฝั ะธ ะถะตะฝัะธะฝั 18-45 ะปะตั
โข ะะบัะธะฒะฝัะน ะพะฑัะฐะท ะถะธะทะฝะธ
โข ะฆะตะฝัั ะบะฐัะตััะฒะพ ะทะฒัะบะฐ
โข ะัะฟะพะปัะทััั ะดะปั ัะฟะพััะฐ, ัะฐะฑะพัั, ะฟััะตัะตััะฒะธะน

โโโโโโโโโโโโโโโโโโโโโ

๐จ <b>ะะะะฃะะะฌะะะฏ ะะะะฆะะะฆะะฏ</b>
ะกัะธะปั: ัะตัะฝะพะปะพะณะธัะฝัะน ะผะธะฝะธะผะฐะปะธะทะผ
ะะฐัััะพะตะฝะธะต: ะฟัะตะผะธัะผ, ะธะฝะฝะพะฒะฐัะธะธ, ะฝะฐะดัะถะฝะพััั
ะฆะฒะตัะพะฒะฐั ะฟะฐะปะธััะฐ:
โข ะัะฝะพะฒะฝะพะน: #1A1A1A (ะณะปัะฑะพะบะธะน ัััะฝัะน)
โข ะะบัะตะฝั: #00D4FF (ะฝะตะพะฝะพะฒัะน ะณะพะปัะฑะพะน)
โข ะคะพะฝ: #F5F5F7 (ัะฒะตัะปะพ-ัะตััะน)
โข ะขะตะบัั: #FFFFFF (ะฑะตะปัะน) / #333333 (ััะผะฝัะน)

โโโโโโโโโโโโโโโโโโโโโ

๐ธ <b>ะะะะะะะ ะคะะขะ (ะกะปะฐะนะด 1)</b>
โข ะะฐััะฝะธะบะธ + ะบะตะนั ะฝะฐ ััะผะฝะพะผ ะณัะฐะดะธะตะฝัะต
โข ะญััะตะบั ัะฒะตัะตะฝะธั/ะฟะพะดัะฒะตัะบะธ
โข 3D ัััะตะบั "ะฟะฐัััะตะณะพ" ัะพะฒะฐัะฐ
โข ะะบัะตะฝั ะฝะฐ ะฟัะตะผะธะฐะปัะฝะพะผ ะดะธะทะฐะนะฝะต

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะคะะะะะคะะะ (ะกะปะฐะนะดั 2-8)</b>

<b>ะกะปะฐะนะด 2 โ ะะปััะตะฒัะต ัะฐัะฐะบัะตัะธััะธะบะธ</b>
ะะฐะณะพะปะพะฒะพะบ: "ะะฒัะบ ะฝะพะฒะพะณะพ ะฟะพะบะพะปะตะฝะธั"
โข ะะบะพะฝะบะฐ ะฑะฐัะฐัะตะธ + "32 ัะฐัะฐ ะฐะฒัะพะฝะพะผะฝะพััะธ"
โข ะะบะพะฝะบะฐ ANC + "ะะบัะธะฒะฝะพะต ััะผะพะฟะพะดะฐะฒะปะตะฝะธะต"
โข ะะบะพะฝะบะฐ Bluetooth + "Bluetooth 5.3"

<b>ะกะปะฐะนะด 3 โ ะะฐัะตััะฒะพ ะทะฒัะบะฐ</b>
โข ะะธะทัะฐะปะธะทะฐัะธั ะดัะฐะนะฒะตัะพะฒ
โข ะงะฐััะพัะฝัะน ะดะธะฐะฟะฐะทะพะฝ
โข ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะบะพะดะตะบะธ

<b>ะกะปะฐะนะด 4 โ ะจัะผะพะฟะพะดะฐะฒะปะตะฝะธะต</b>
โข ะกัะฐะฒะฝะตะฝะธะต: ะดะพ/ะฟะพัะปะต
โข ะะตะถะธะผั: ANC / ะัะพะทัะฐัะฝะพััั
โข ะะฝัะพะณัะฐัะธะบะฐ ัะฐะฑะพัั ะผะธะบัะพัะพะฝะพะฒ

<b>ะกะปะฐะนะด 5 โ ะะพะผัะพัั ะธ ััะณะพะฝะพะผะธะบะฐ</b>
โข ะะตั: 5ะณ ะบะฐะถะดัะน ะฝะฐััะฝะธะบ
โข 3 ัะฐะทะผะตัะฐ ะฐะผะฑัััั ะฒ ะบะพะผะฟะปะตะบัะต
โข ะะพะบะฐะท ะฒ ััะต

<b>ะกะปะฐะนะด 6 โ ะะฐัะธัะฐ ะธ ะฝะฐะดัะถะฝะพััั</b>
โข IPX4 โ ะทะฐัะธัะฐ ะพั ะฟะพัะฐ ะธ ะฑััะทะณ
โข ะัะพัะฝัะน ะบะตะนั
โข ะกะพะฒะผะตััะธะผะพััั: iOS/Android

<b>ะกะปะฐะนะด 7 โ ะะพะผะฟะปะตะบัะฐัะธั</b>
โข ะะฐััะฝะธะบะธ + ะบะตะนั
โข 3 ะฟะฐัั ะฐะผะฑัััั
โข USB-C ะบะฐะฑะตะปั
โข ะะฝััััะบัะธั

<b>ะกะปะฐะนะด 8 โ ะะฐัะฐะฝัะธั ะธ ะฟะพะดะดะตัะถะบะฐ</b>
โข ะัะธัะธะฐะปัะฝะฐั ะณะฐัะฐะฝัะธั 1 ะณะพะด
โข ะััััะฐั ะดะพััะฐะฒะบะฐ
โข ะะตัะฟะปะฐัะฝัะน ะฒะพะทะฒัะฐั 14 ะดะฝะตะน

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะขะะะซะ ะขะะะกะขะซ</b>

ะะฐะณะพะปะพะฒะพะบ: "TWS ะฝะฐััะฝะธะบะธ ั ANC โ ะะพะณััะทะธัั ะฒ ัะธัััะน ะทะฒัะบ"

ะฃะขะ:
โข "ะจัะผะพะฟะพะดะฐะฒะปะตะฝะธะต -40ะดะ โ ัะฐะฑะพัะฐะน ะฒ ัะธัะธะฝะต"
โข "32 ัะฐัะฐ ะฑะตะท ะทะฐััะดะบะธ โ ะฝะฐ ะฒัั ะฝะตะดะตะปั"
โข "Bluetooth 5.3 โ ััะฐะฑะธะปัะฝะพะต ัะพะตะดะธะฝะตะฝะธะต"

ะัะธะทัะฒ: "ะะฐะบะฐะทัะฒะฐะน ัะตะนัะฐั ะธ ะฟะพะปััะธ ัะตัะพะป ะฒ ะฟะพะดะฐัะพะบ!"

โโโโโโโโโโโโโโโโโโโโโ

๐ก <b>ะะะะะะะะะะฆะะ ะะะะะะะะะฃ</b>
โข ะขัะผะฝัะน ัะพะฝ ั ะฝะตะพะฝะพะฒัะผะธ ะฐะบัะตะฝัะฐะผะธ
โข ะัะฟะพะปัะทะพะฒะฐัั 3D-ะฒะธะทัะฐะปะธะทะฐัะธั
โข ะขะตัะฝะธัะตัะบะธะต ะธะบะพะฝะบะธ ะฒ ะตะดะธะฝะพะผ ััะธะปะต
โข ะะธะฝะธะผัะผ ัะตะบััะฐ, ะผะฐะบัะธะผัะผ ะฒะธะทัะฐะปะฐ

โโโโโโโโโโโโโโโโโโโโโ

๐ฌ <b>A/B ะขะะกะข</b>
ะะฐัะธะฐะฝั ะ: ะะฐััะฝะธะบะธ ะฝะฐ ััะผะฝะพะผ ัะพะฝะต ั ะฟะพะดัะฒะตัะบะพะน
ะะฐัะธะฐะฝั ะ: ะะฐััะฝะธะบะธ ะฒ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ (ะฝะฐ ะผะพะดะตะปะธ)

โโโโโโโโโโโโโโโโโโโโโ

๐ <i>ะฅะพัะตัั ัะฐะบะพะต ะถะต ะขะ ะดะปั ัะฒะพะตะณะพ ัะพะฒะฐัะฐ?</i>
"""


EXAMPLE_COSMETICS = """
๐ <b>ะะะะะะ ะขะ: ะะพัะผะตัะธะบะฐ ะธ ััะพะด</b>

โโโโโโโโโโโโโโโโโโโโโ

๐ฆ <b>ะขะะะะ</b>
ะฃะฒะปะฐะถะฝัััะธะน ะบัะตะผ ะดะปั ะปะธัะฐ ั ะณะธะฐะปััะพะฝะพะฒะพะน ะบะธัะปะพัะพะน
ะะฑััะผ: 50 ะผะป
ะกะพััะฐะฒ: ะณะธะฐะปััะพะฝะพะฒะฐั ะบะธัะปะพัะฐ, ะฝะธะฐัะธะฝะฐะผะธะด, ะผะฐัะปะพ ะถะพะถะพะฑะฐ

โโโโโโโโโโโโโโโโโโโโโ

๐ฅ <b>ะฆะะะะะะฏ ะะฃะะะขะะะะฏ</b>
โข ะะตะฝัะธะฝั 25-50 ะปะตั
โข ะะฐะฑะพััััั ะพ ัะพััะพัะฝะธะธ ะบะพะถะธ
โข ะัะตะดะฟะพัะธัะฐัั ะบะฐัะตััะฒะตะฝะฝัั ะบะพัะผะตัะธะบั
โข ะะฝะฐัั ะพ ะฟะพะปัะทะต ะณะธะฐะปััะพะฝะพะฒะพะน ะบะธัะปะพัั

โโโโโโโโโโโโโโโโโโโโโ

๐จ <b>ะะะะฃะะะฌะะะฏ ะะะะฆะะะฆะะฏ</b>
ะกัะธะปั: ัะธััะพัะฐ ะธ ะฝะฐัััะฐะปัะฝะพััั
ะะฐัััะพะตะฝะธะต: ัะฒะตะถะตััั, ะผะพะปะพะดะพััั, ััะพะด
ะฆะฒะตัะพะฒะฐั ะฟะฐะปะธััะฐ:
โข ะัะฝะพะฒะฝะพะน: #E8F4F8 (ะฝะตะถะฝะพ-ะณะพะปัะฑะพะน)
โข ะะบัะตะฝั: #4ECDC4 (ะฑะธััะทะพะฒัะน)
โข ะคะพะฝ: #FFFFFF (ะฑะตะปัะน)
โข ะขะตะบัั: #2C3E50 (ััะผะฝะพ-ัะธะฝะธะน)

โโโโโโโโโโโโโโโโโโโโโ

๐ธ <b>ะะะะะะะ ะคะะขะ (ะกะปะฐะนะด 1)</b>
โข ะะฐะฝะบะฐ ะบัะตะผะฐ ะฝะฐ ัะฒะตัะปะพะผ ัะพะฝะต
โข ะะฐะฟะปะธ ะฒะพะดั / ัะพัั ััะดะพะผ
โข ะะธััะพัะบะธ ะฐะปะพั ะธะปะธ ัะฒะตัั
โข ะงะธัััะน, ะผะธะฝะธะผะฐะปะธััะธัะฝัะน ััะธะปั

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะคะะะะะคะะะ (ะกะปะฐะนะดั 2-7)</b>

<b>ะกะปะฐะนะด 2 โ ะะปััะตะฒัะต ะธะฝะณัะตะดะธะตะฝัั</b>
ะะฐะณะพะปะพะฒะพะบ: "ะกะธะปะฐ ัะฒะปะฐะถะฝะตะฝะธั ะฒ ะบะฐะถะดะพะน ะบะฐะฟะปะต"
โข ะะพะปะตะบัะปะฐ + "ะะธะฐะปััะพะฝะพะฒะฐั ะบะธัะปะพัะฐ"
โข ะะฐะฟะปั + "ะะธะฐัะธะฝะฐะผะธะด 5%"
โข ะัะตั + "ะะฐัะปะพ ะถะพะถะพะฑะฐ"

<b>ะกะปะฐะนะด 3 โ ะะตะทัะปััะฐั ะฟัะธะผะตะฝะตะฝะธั</b>
โข ะะพ/ะะพัะปะต (ัะตะฐะปะธััะธัะฝะพ)
โข ะัะตะผะตะฝะฝะฐั ัะบะฐะปะฐ: 1 ะดะตะฝั / 2 ะฝะตะดะตะปะธ / ะผะตััั
โข ะัะพัะตะฝั ัะปัััะตะฝะธั ัะฒะปะฐะถะฝัะฝะฝะพััะธ

<b>ะกะปะฐะนะด 4 โ ะกะพััะฐะฒ ะธ ะฑะตะทะพะฟะฐัะฝะพััั</b>
โข ะะตะท ะฟะฐัะฐะฑะตะฝะพะฒ
โข ะะตะท ัะธะปะธะบะพะฝะพะฒ
โข ะะธะฟะพะฐะปะปะตัะณะตะฝะฝะพ
โข ะะตัะผะฐัะพะปะพะณะธัะตัะบะธ ะฟัะพัะตััะธัะพะฒะฐะฝะพ

<b>ะกะปะฐะนะด 5 โ ะกะฟะพัะพะฑ ะฟัะธะผะตะฝะตะฝะธั</b>
โข ะะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั ั ะธะบะพะฝะบะฐะผะธ
โข ะฃััะพ ะธ ะฒะตัะตั
โข ะะพะปะธัะตััะฒะพ ะฟัะพะดัะบัะฐ

<b>ะกะปะฐะนะด 6 โ ะะปั ะบะฐะบะพะณะพ ัะธะฟะฐ ะบะพะถะธ</b>
โข ะกััะฐั โ
โข ะะพัะผะฐะปัะฝะฐั โ
โข ะะพะผะฑะธะฝะธัะพะฒะฐะฝะฝะฐั โ
โข ะงัะฒััะฒะธัะตะปัะฝะฐั โ

<b>ะกะปะฐะนะด 7 โ ะัะทัะฒั ะธ ะณะฐัะฐะฝัะธะธ</b>
โข ะฆะธัะฐัั ัะตะฐะปัะฝัั ะฟะพะบัะฟะฐัะตะปะตะน
โข ะะตะนัะธะฝะณ 4.8 ะธะท 5
โข ะะฐัะฐะฝัะธั ะบะฐัะตััะฒะฐ

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะขะะะซะ ะขะะะกะขะซ</b>

ะะฐะณะพะปะพะฒะพะบ: "ะฃะฒะปะฐะถะฝัััะธะน ะบัะตะผ ั ะณะธะฐะปััะพะฝะพะฒะพะน ะบะธัะปะพัะพะน โ ะะพะปะพะดะพััั ะบะพะถะธ"

ะฃะขะ:
โข "48 ัะฐัะพะฒ ะณะปัะฑะพะบะพะณะพ ัะฒะปะฐะถะฝะตะฝะธั"
โข "ะะธะดะธะผัะน ัะตะทัะปััะฐั ะทะฐ 14 ะดะฝะตะน"
โข "ะะฐัััะฐะปัะฝัะน ัะพััะฐะฒ ะฑะตะท ะฟะฐัะฐะฑะตะฝะพะฒ"

ะัะธะทัะฒ: "ะะพะฟัะพะฑัะน ะธ ะฟะพััะฒััะฒัะน ัะฐะทะฝะธัั ัะถะต ะทะฐะฒััะฐ!"

โโโโโโโโโโโโโโโโโโโโโ

๐ก <b>ะะะะะะะะะะฆะะ ะะะะะะะะะฃ</b>
โข ะกะฒะตัะปัะต, ัะธัััะต ัะพะฝะฐ
โข ะญะปะตะผะตะฝัั ะฒะพะดั, ะบะฐะฟะตะปั, ัะฒะตะถะตััะธ
โข ะจัะธััั: ัะพะฝะบะธะต, ัะปะตะณะฐะฝัะฝัะต
โข ะะบัะตะฝั ะฝะฐ ะฝะฐัััะฐะปัะฝะพััะธ

โโโโโโโโโโโโโโโโโโโโโ

๐ฌ <b>A/B ะขะะกะข</b>
ะะฐัะธะฐะฝั ะ: ะะธะฝะธะผะฐะปะธััะธัะฝัะน ะฟัะพะดัะบัะพะฒัะน ัะพะฝ
ะะฐัะธะฐะฝั ะ: ะัะตะผ ะฒ ััะบะฐั ะผะพะดะตะปะธ / ะฝะฐ ะบะพะถะต

โโโโโโโโโโโโโโโโโโโโโ

๐ <i>ะฅะพัะตัั ัะฐะบะพะต ะถะต ะขะ ะดะปั ัะฒะพะตะณะพ ัะพะฒะฐัะฐ?</i>
"""


EXAMPLE_HOME = """
๐ <b>ะะะะะะ ะขะ: ะขะพะฒะฐัั ะดะปั ะดะพะผะฐ</b>

โโโโโโโโโโโโโโโโโโโโโ

๐ฆ <b>ะขะะะะ</b>
ะะปะตะด ัะปะธัะพะฒัะน ั ััะบะฐะฒะฐะผะธ
ะะฐะทะผะตั: 150x200 ัะผ
ะะฐัะตัะธะฐะป: ะผะธะบัะพัะปะธั 100%

โโโโโโโโโโโโโโโโโโโโโ

๐ฅ <b>ะฆะะะะะะฏ ะะฃะะะขะะะะฏ</b>
โข ะะตะฝัะธะฝั ะธ ะผัะถัะธะฝั 20-55 ะปะตั
โข ะฆะตะฝัั ะดะพะผะฐัะฝะธะน ััั
โข ะะพะบัะฟะฐัั ะดะปั ัะตะฑั ะธะปะธ ะฒ ะฟะพะดะฐัะพะบ
โข ะัะฑัั ะบะพะผัะพััะฝัะน ะพัะดัั

โโโโโโโโโโโโโโโโโโโโโ

๐จ <b>ะะะะฃะะะฌะะะฏ ะะะะฆะะะฆะะฏ</b>
ะกัะธะปั: ััะฟะปัะน ััะณะณะต
ะะฐัััะพะตะฝะธะต: ััั, ะบะพะผัะพัั, ัะตะฟะปะพ
ะฆะฒะตัะพะฒะฐั ะฟะฐะปะธััะฐ:
โข ะัะฝะพะฒะฝะพะน: #8B4513 (ััะฟะปัะน ะบะพัะธัะฝะตะฒัะน)
โข ะะบัะตะฝั: #F4A460 (ะฟะตัะพัะฝัะน)
โข ะคะพะฝ: #FAF0E6 (ะปัะฝัะฝะพะน)
โข ะขะตะบัั: #3E2723 (ััะผะฝะพ-ะบะพัะธัะฝะตะฒัะน)

โโโโโโโโโโโโโโโโโโโโโ

๐ธ <b>ะะะะะะะ ะคะะขะ (ะกะปะฐะนะด 1)</b>
โข ะงะตะปะพะฒะตะบ ะฒ ะฟะปะตะดะต ะฝะฐ ะดะธะฒะฐะฝะต
โข ะงะฐัะบะฐ ั ะณะพัััะธะผ ะฝะฐะฟะธัะบะพะผ ััะดะพะผ
โข ะขัะฟะปะพะต ะพัะฒะตัะตะฝะธะต
โข ะฃััะฝะฐั ะดะพะผะฐัะฝัั ะฐัะผะพััะตัะฐ

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะคะะะะะคะะะ (ะกะปะฐะนะดั 2-6)</b>

<b>ะกะปะฐะนะด 2 โ ะัะตะธะผััะตััะฒะฐ</b>
ะะฐะณะพะปะพะฒะพะบ: "ะขะฒะพะน ะธะดะตะฐะปัะฝัะน ะฒะตัะตั ะดะพะผะฐ"
โข ะะบะพะฝะบะฐ ัะตัะผะพะผะตััะฐ + "ะกะพััะฐะฝัะตั ัะตะฟะปะพ"
โข ะะบะพะฝะบะฐ ััะบ + "ะัะบะธ ัะฒะพะฑะพะดะฝั"
โข ะะบะพะฝะบะฐ ัะฐะทะผะตัะฐ + "150x200 ัะผ"

<b>ะกะปะฐะนะด 3 โ ะะฐัะตัะธะฐะป ะธ ะบะฐัะตััะฒะพ</b>
โข ะััะฟะฝัะน ะฟะปะฐะฝ ัะตะบััััั
โข 100% ะผะธะบัะพัะปะธั
โข ะะต ัะบะฐััะฒะฐะตััั ะฟะพัะปะต ััะธัะพะบ

<b>ะกะปะฐะนะด 4 โ ะัะฟะพะปัะทะพะฒะฐะฝะธะต</b>
โข ะะฐ ะดะธะฒะฐะฝะต / ะฒ ะบัะตัะปะต
โข ะะฐ ะบะพะผะฟัััะตัะพะผ
โข ะงัะตะฝะธะต ะบะฝะธะณะธ
โข ะัะพัะผะพัั ะขะ

<b>ะกะปะฐะนะด 5 โ ะฃัะพะด</b>
โข ะะฐัะธะฝะฝะฐั ััะธัะบะฐ 30ยฐ
โข ะััััะพ ัะพัะฝะตั
โข ะะต ััะตะฑัะตั ะณะปะฐะถะบะธ

<b>ะกะปะฐะนะด 6 โ ะะพะดะฐัะพัะฝะฐั ะธะดะตั</b>
โข ะัะฐัะธะฒะฐั ัะฟะฐะบะพะฒะบะฐ
โข ะะดะตะฐะปัะฝะพ ะฝะฐ ะะพะฒัะน ะณะพะด
โข ะะพะดัะพะดะธั ะฒัะตะผ

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะขะะะซะ ะขะะะกะขะซ</b>

ะะฐะณะพะปะพะฒะพะบ: "ะะปะตะด ั ััะบะฐะฒะฐะผะธ โ ะะบััะฐะน ัะตะฑั ัััะพะผ"

ะฃะขะ:
โข "ะัะบะธ ัะฒะพะฑะพะดะฝั โ ัะธัะฐะน, ะฟะตะน ัะฐะน, ัะฐะฑะพัะฐะน"
โข "ะะธะบัะพัะปะธั โ ะผัะณะบะพััั ะบะฐะบ ั ะพะฑะปะฐะบะฐ"
โข "ะกัะธัะฐะตััั ะปะตะณะบะพ โ ัะพััะฐะฝัะตั ะฒะธะด"

ะัะธะทัะฒ: "ะะฐะบะฐะถะธ ัะตะนัะฐั ะธ ะฝะฐัะปะฐะถะดะฐะนัั ัััะพะผ ัะถะต ะทะฐะฒััะฐ!"

โโโโโโโโโโโโโโโโโโโโโ

๐ก <b>ะะะะะะะะะะฆะะ ะะะะะะะะะฃ</b>
โข ะขัะฟะปัะต ะพัะตะฝะฝะต-ะทะธะผะฝะธะต ัะฒะตัะฐ
โข ะญะปะตะผะตะฝัั ัััะฐ: ัะฒะตัะธ, ะบะฝะธะณะธ, ัะฐัะบะธ
โข ะัะณะบะพะต ะพัะฒะตัะตะฝะธะต ะฝะฐ ัะพัะพ
โข ะะบัะตะฝั ะฝะฐ ัะตะบััััะต ะผะฐัะตัะธะฐะปะฐ

โโโโโโโโโโโโโโโโโโโโโ

๐ฌ <b>A/B ะขะะกะข</b>
ะะฐัะธะฐะฝั ะ: ะะพะดะตะปั ะฒ ะฟะปะตะดะต ะดะพะผะฐ
ะะฐัะธะฐะฝั ะ: ะะปะตะด ัะปะพะถะตะฝะฝัะน + ัะปะตะผะตะฝัั ะดะตะบะพัะฐ

โโโโโโโโโโโโโโโโโโโโโ

๐ <i>ะฅะพัะตัั ัะฐะบะพะต ะถะต ะขะ ะดะปั ัะฒะพะตะณะพ ัะพะฒะฐัะฐ?</i>
"""


EXAMPLE_KIDS = """
๐ถ <b>ะะะะะะ ะขะ: ะะตััะบะธะต ัะพะฒะฐัั</b>

โโโโโโโโโโโโโโโโโโโโโ

๐ฆ <b>ะขะะะะ</b>
ะะฐะทะฒะธะฒะฐััะธะน ะบะพะฝััััะบัะพั ะดะปั ะดะตัะตะน 3-7 ะปะตั
ะะพะปะธัะตััะฒะพ ะดะตัะฐะปะตะน: 150 ัั
ะะฐัะตัะธะฐะป: ABS ะฟะปะฐััะธะบ

โโโโโโโโโโโโโโโโโโโโโ

๐ฅ <b>ะฆะะะะะะฏ ะะฃะะะขะะะะฏ</b>
โข ะะพะดะธัะตะปะธ ะดะตัะตะน 3-7 ะปะตั
โข ะะฐะฑััะบะธ ะธ ะดะตะดััะบะธ (ะฟะพะบัะฟะบะฐ ะฒ ะฟะพะดะฐัะพะบ)
โข ะะฐะฑะพััััั ะพ ัะฐะทะฒะธัะธะธ ัะตะฑัะฝะบะฐ
โข ะััั ะฑะตะทะพะฟะฐัะฝัะต ะธะณัััะบะธ

โโโโโโโโโโโโโโโโโโโโโ

๐จ <b>ะะะะฃะะะฌะะะฏ ะะะะฆะะะฆะะฏ</b>
ะกัะธะปั: ััะบะธะน ะธ ะฒะตััะปัะน
ะะฐัััะพะตะฝะธะต: ัะฐะดะพััั, ะธะณัะฐ, ัะฐะทะฒะธัะธะต
ะฆะฒะตัะพะฒะฐั ะฟะฐะปะธััะฐ:
โข ะัะฝะพะฒะฝะพะน: #FF6B6B (ะบะพัะฐะปะปะพะฒัะน)
โข ะะบัะตะฝั: #4ECDC4 (ะฑะธััะทะพะฒัะน)
โข ะะพะฟะพะปะฝะธัะตะปัะฝัะน: #FFE66D (ะถัะปััะน)
โข ะคะพะฝ: #FFFFFF (ะฑะตะปัะน)

โโโโโโโโโโโโโโโโโโโโโ

๐ธ <b>ะะะะะะะ ะคะะขะ (ะกะปะฐะนะด 1)</b>
โข ะกัะฐััะปะธะฒัะน ัะตะฑัะฝะพะบ ะธะณัะฐะตั ั ะบะพะฝััััะบัะพัะพะผ
โข ะฏัะบะธะต ัะฒะตัะฐ ะธ ัะผะพัะธะธ
โข ะกะฒะตัะปัะน ัะพะฝ
โข ะะธะดะฝั ัะพะฑัะฐะฝะฝัะต ัะธะณััั

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะคะะะะะคะะะ (ะกะปะฐะนะดั 2-7)</b>

<b>ะกะปะฐะนะด 2 โ ะะฐะทะฒะธะฒะฐััะธะต ะฝะฐะฒัะบะธ</b>
ะะฐะณะพะปะพะฒะพะบ: "ะะณัะฐะน ะธ ัะฐะทะฒะธะฒะฐะนัั!"
โข ะะพะทะณ + "ะะพะณะธัะตัะบะพะต ะผััะปะตะฝะธะต"
โข ะัะบะฐ + "ะะตะปะบะฐั ะผะพัะพัะธะบะฐ"
โข ะขะฒะพััะตััะฒะพ + "ะะพะพะฑัะฐะถะตะฝะธะต"

<b>ะกะปะฐะนะด 3 โ ะะตะทะพะฟะฐัะฝะพััั</b>
โข ะกะตััะธัะธะบะฐั ะฑะตะทะพะฟะฐัะฝะพััะธ
โข ะะตะท ะพััััั ัะณะปะพะฒ
โข ะญะบะพะปะพะณะธัะฝัะน ABS ะฟะปะฐััะธะบ
โข ะะตะท ะทะฐะฟะฐัะฐ

<b>ะกะปะฐะนะด 4 โ ะงัะพ ะผะพะถะฝะพ ัะพะฑัะฐัั</b>
โข 20+ ะณะพัะพะฒัั ะผะพะดะตะปะตะน
โข ะะพะผะธะบะธ, ะผะฐัะธะฝะบะธ, ะถะธะฒะพัะฝัะต
โข ะะฝััััะบัะธั ั ะบะฐััะธะฝะบะฐะผะธ

<b>ะกะปะฐะนะด 5 โ ะะพะผะฟะปะตะบัะฐัะธั</b>
โข 150 ะดะตัะฐะปะตะน
โข ะฃะดะพะฑะฝัะน ะบะพะฝัะตะนะฝะตั ะดะปั ััะฐะฝะตะฝะธั
โข ะะฝะธะถะบะฐ-ะธะฝััััะบัะธั

<b>ะกะปะฐะนะด 6 โ ะะพะทัะฐัั ะธ ัะพะฒะผะตััะธะผะพััั</b>
โข ะะพะดัะพะดะธั ะดะปั 3-7 ะปะตั
โข ะกะพะฒะผะตััะธะผ ั ะดััะณะธะผะธ ะบะพะฝััััะบัะพัะฐะผะธ
โข ะะพะถะฝะพ ะดะพะบัะฟะธัั ะดะพะฟะพะปะฝะธัะตะปัะฝัะต ะฝะฐะฑะพัั

<b>ะกะปะฐะนะด 7 โ ะะดะตะฐะปัะฝัะน ะฟะพะดะฐัะพะบ</b>
โข ะะฐ ะดะตะฝั ัะพะถะดะตะฝะธั
โข ะะฐ ะะพะฒัะน ะณะพะด
โข ะัะพััะพ ัะฐะบ
โข ะฃะฟะฐะบะพะฒะบะฐ ะณะพัะพะฒะฐ ะดะปั ะฟะพะดะฐัะบะฐ

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะขะะะซะ ะขะะะกะขะซ</b>

ะะฐะณะพะปะพะฒะพะบ: "ะะฐะทะฒะธะฒะฐััะธะน ะบะพะฝััััะบัะพั โ 150 ะดะตัะฐะปะตะน ััะฐัััั"

ะฃะขะ:
โข "ะะฐะทะฒะธะฒะฐะตั ะปะพะณะธะบั ะธ ะผะพัะพัะธะบั โ ัะตะบะพะผะตะฝะดััั ะฟะตะดะฐะณะพะณะธ"
โข "ะะตะทะพะฟะฐัะฝัะน ABS ะฟะปะฐััะธะบ โ ัะตััะธัะธัะธัะพะฒะฐะฝะพ"
โข "150 ะดะตัะฐะปะตะน โ ัะฐัั ัะฒะปะตะบะฐัะตะปัะฝะพะน ะธะณัั"

ะัะธะทัะฒ: "ะะพะดะฐัะธ ัะตะฑัะฝะบั ัะฐะทะฒะธัะธะต ัะตัะตะท ะธะณัั!"

โโโโโโโโโโโโโโโโโโโโโ

๐ก <b>ะะะะะะะะะะฆะะ ะะะะะะะะะฃ</b>
โข ะฏัะบะธะต, ัะพัะฝัะต ัะฒะตัะฐ
โข ะคะพัะพ ััะฐััะปะธะฒัั ะดะตัะตะน
โข ะััะฟะฝัะต ะธะบะพะฝะบะธ ะฑะตะทะพะฟะฐัะฝะพััะธ
โข ะจัะธััั: ะพะบััะณะปัะต, ะดััะถะตะปัะฑะฝัะต

โโโโโโโโโโโโโโโโโโโโโ

๐ฌ <b>A/B ะขะะกะข</b>
ะะฐัะธะฐะฝั ะ: ะะตะฑัะฝะพะบ ะธะณัะฐะตั ั ะบะพะฝััััะบัะพัะพะผ
ะะฐัะธะฐะฝั ะ: ะะพัะพะฒัะต ัะพะฑัะฐะฝะฝัะต ะผะพะดะตะปะธ

โโโโโโโโโโโโโโโโโโโโโ

๐ <i>ะฅะพัะตัั ัะฐะบะพะต ะถะต ะขะ ะดะปั ัะฒะพะตะณะพ ัะพะฒะฐัะฐ?</i>
"""


EXAMPLE_SPORTS = """
โฝ <b>ะะะะะะ ะขะ: ะกะฟะพัั ะธ ะพัะดัั</b>

โโโโโโโโโโโโโโโโโโโโโ

๐ฆ <b>ะขะะะะ</b>
ะคะธัะฝะตั-ัะตะทะธะฝะบะธ ะดะปั ััะตะฝะธัะพะฒะพะบ (ะฝะฐะฑะพั 5 ัั)
ะกะพะฟัะพัะธะฒะปะตะฝะธะต: ะพั 2 ะดะพ 22 ะบะณ
ะะฐัะตัะธะฐะป: 100% ะปะฐัะตะบั

โโโโโโโโโโโโโโโโโโโโโ

๐ฅ <b>ะฆะะะะะะฏ ะะฃะะะขะะะะฏ</b>
โข ะะตะฝัะธะฝั 20-45 ะปะตั
โข ะะฐะฝะธะผะฐัััั ัะธัะฝะตัะพะผ ะดะพะผะฐ
โข ะกะปะตะดัั ะทะฐ ัะธะณััะพะน
โข ะััั ะบะพะผะฟะฐะบัะฝะพะต ะพะฑะพััะดะพะฒะฐะฝะธะต

โโโโโโโโโโโโโโโโโโโโโ

๐จ <b>ะะะะฃะะะฌะะะฏ ะะะะฆะะะฆะะฏ</b>
ะกัะธะปั: ัะฝะตัะณะธัะฝัะน ะธ ะผะพัะธะฒะธััััะธะน
ะะฐัััะพะตะฝะธะต: ัะธะปะฐ, ะทะดะพัะพะฒัะต, ัะฝะตัะณะธั
ะฆะฒะตัะพะฒะฐั ะฟะฐะปะธััะฐ:
โข ะัะฝะพะฒะฝะพะน: #FF4757 (ัะฝะตัะณะธัะฝัะน ะบัะฐัะฝัะน)
โข ะะบัะตะฝั: #2ED573 (ะทะตะปัะฝัะน)
โข ะคะพะฝ: #F1F2F6 (ัะฒะตัะปะพ-ัะตััะน)
โข ะขะตะบัั: #2F3542 (ััะผะฝะพ-ัะตััะน)

โโโโโโโโโโโโโโโโโโโโโ

๐ธ <b>ะะะะะะะ ะคะะขะ (ะกะปะฐะนะด 1)</b>
โข ะะตะฒััะบะฐ ััะตะฝะธััะตััั ั ัะตะทะธะฝะบะพะน
โข ะกะฟะพััะธะฒะฝะฐั ัะพัะผะฐ
โข ะะธะฝะฐะผะธัะฝะฐั ะฟะพะทะฐ
โข ะกะฒะตัะปัะน ัะพะฝ

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะคะะะะะคะะะ (ะกะปะฐะนะดั 2-7)</b>

<b>ะกะปะฐะนะด 2 โ ะัะตะธะผััะตััะฒะฐ ะฝะฐะฑะพัะฐ</b>
ะะฐะณะพะปะพะฒะพะบ: "ะขะฒะพะน ะดะพะผะฐัะฝะธะน ัะฟะพััะทะฐะป ะฒ ะบะฐัะผะฐะฝะต"
โข 5 ัะตะทะธะฝะพะบ + "5 ััะพะฒะฝะตะน ะฝะฐะณััะทะบะธ"
โข ะกัะผะบะฐ + "ะงะตัะพะป ะดะปั ััะฐะฝะตะฝะธั"
โข ะะฐะฝัะตะปั + "ะะฐะผะตะฝัะตั ััะตะฝะฐะถััั"

<b>ะกะปะฐะนะด 3 โ ะฃัะพะฒะฝะธ ัะพะฟัะพัะธะฒะปะตะฝะธั</b>
โข ะัะปัะฐั: 2-4 ะบะณ (ัะฐะทะผะธะฝะบะฐ)
โข ะะตะปัะฝะฐั: 4-8 ะบะณ (ะปัะณะบะฐั)
โข ะัะฐัะฝะฐั: 8-14 ะบะณ (ััะตะดะฝัั)
โข ะกะธะฝัั: 14-18 ะบะณ (ัะธะปัะฝะฐั)
โข ะงััะฝะฐั: 18-22 ะบะณ (ะผะฐะบัะธะผัะผ)

<b>ะกะปะฐะนะด 4 โ ะฃะฟัะฐะถะฝะตะฝะธั</b>
โข ะะพะณะธ ะธ ัะณะพะดะธัั
โข ะัะบะธ ะธ ะฟะปะตัะธ
โข ะัะตัั
โข ะะฐัััะถะบะฐ
โข 30+ ัะฟัะฐะถะฝะตะฝะธะน

<b>ะกะปะฐะนะด 5 โ ะะฐัะตััะฒะพ ะผะฐัะตัะธะฐะปะฐ</b>
โข 100% ะฝะฐัััะฐะปัะฝัะน ะปะฐัะตะบั
โข ะะต ัะฒัััั
โข ะะต ัะตัััั ัะฟััะณะพััั
โข ะะธะฟะพะฐะปะปะตัะณะตะฝะฝัะต

<b>ะกะปะฐะนะด 6 โ ะะพะผะฟะปะตะบัะฐัะธั</b>
โข 5 ัะตะทะธะฝะพะบ ัะฐะทะฝะพะน ะฝะฐะณััะทะบะธ
โข ะงะตัะพะป-ะผะตัะพะบ
โข PDF ั ัะฟัะฐะถะฝะตะฝะธัะผะธ (QR-ะบะพะด)

<b>ะกะปะฐะนะด 7 โ ะะตะทัะปััะฐัั</b>
โข ะคะพัะพ ะดะพ/ะฟะพัะปะต (ัะตะฐะปัะฝัะต)
โข ะัะทัะฒั ะฟะพะบัะฟะฐัะตะปะตะน
โข ะะฐัะฐะฝัะธั ะบะฐัะตััะฒะฐ

โโโโโโโโโโโโโโโโโโโโโ

๐ <b>ะะะขะะะซะ ะขะะะกะขะซ</b>

ะะฐะณะพะปะพะฒะพะบ: "ะคะธัะฝะตั-ัะตะทะธะฝะบะธ โ ะะดะตะฐะปัะฝะพะต ัะตะปะพ ะทะฐ 20 ะผะธะฝัั ะฒ ะดะตะฝั"

ะฃะขะ:
โข "5 ััะพะฒะฝะตะน ะฝะฐะณััะทะบะธ โ ะดะปั ะปัะฑะพะน ะฟะพะดะณะพัะพะฒะบะธ"
โข "ะะพะผะฟะฐะบัะฝัะน ะฝะฐะฑะพั โ ััะตะฝะธััะนัั ะณะดะต ัะณะพะดะฝะพ"
โข "100% ะปะฐัะตะบั โ ัะปัะถะฐั ะณะพะดะฐะผะธ"

ะัะธะทัะฒ: "ะะฐัะฝะธ ะฟััั ะบ ะธะดะตะฐะปัะฝะพะผั ัะตะปั ัะถะต ัะตะณะพะดะฝั!"

โโโโโโโโโโโโโโโโโโโโโ

๐ก <b>ะะะะะะะะะะฆะะ ะะะะะะะะะฃ</b>
โข ะญะฝะตัะณะธัะฝัะต, ััะบะธะต ัะฒะตัะฐ
โข ะะธะฝะฐะผะธัะฝัะต ัะพัะพ ั ััะตะฝะธัะพะฒะบะพะน
โข ะะพะบะฐะทะฐัั ัะฐะทะฝัะต ัะฒะตัะฐ ัะตะทะธะฝะพะบ
โข ะะพัะธะฒะฐัะธะพะฝะฝัะต ัะปะตะผะตะฝัั

โโโโโโโโโโโโโโโโโโโโโ

๐ฌ <b>A/B ะขะะกะข</b>
ะะฐัะธะฐะฝั ะ: ะะพะดะตะปั ััะตะฝะธััะตััั ั ัะตะทะธะฝะบะพะน
ะะฐัะธะฐะฝั ะ: ะะฐะฑะพั ัะตะทะธะฝะพะบ + ััะตะผะฐ ัะฟัะฐะถะฝะตะฝะธะน

โโโโโโโโโโโโโโโโโโโโโ

๐ <i>ะฅะพัะตัั ัะฐะบะพะต ะถะต ะขะ ะดะปั ัะฒะพะตะณะพ ัะพะฒะฐัะฐ?</i>
"""


# ะกะปะพะฒะฐัั ะฟัะธะผะตัะพะฒ ะฟะพ ะบะฐัะตะณะพัะธัะผ
EXAMPLES_BY_CATEGORY = {
    "clothes": EXAMPLE_CLOTHES,
    "electronics": EXAMPLE_ELECTRONICS,
    "cosmetics": EXAMPLE_COSMETICS,
    "home": EXAMPLE_HOME,
    "kids": EXAMPLE_KIDS,
    "sports": EXAMPLE_SPORTS,
}


# ============================================================
# ะะะะะะะขะงะะะ ะะะะะะ
# ============================================================

@router.message(CommandStart())
async def cmd_start(
    message: Message,
    user: User,
    state: FSMContext,
) -> None:
    """
    ะะฑัะฐะฑะพััะธะบ ะบะพะผะฐะฝะดั /start.
    
    ะะพะบะฐะทัะฒะฐะตั ะฟัะธะฒะตัััะฒะธะต ะธ ะณะปะฐะฒะฝะพะต ะผะตะฝั.
    ะกะฑัะฐััะฒะฐะตั ัะพััะพัะฝะธะต FSM.
    """
    # ะกะฑัะฐััะฒะฐะตะผ ัะพััะพัะฝะธะต ะฝะฐ ัะปััะฐะน ะตัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะฑัะป ะฒ ะฟัะพัะตััะต
    await state.clear()
    
    # ะัะฟัะฐะฒะปัะตะผ ััะฐััะพะฒะพะต ัะพะพะฑัะตะฝะธะต ั inline ะบะปะฐะฒะธะฐัััะพะน
    await message.answer(
        START_MESSAGE.format(balance=user.balance),
    )
    
    # ะัะฟัะฐะฒะปัะตะผ ะดะพะฟะพะปะฝะธัะตะปัะฝะพะต ัะพะพะฑัะตะฝะธะต ั inline ะบะฝะพะฟะบะฐะผะธ ะดะปั ะฑััััะพะณะพ ััะฐััะฐ
    await message.answer(
        "๐ <b>ะัััััะต ะดะตะนััะฒะธั:</b>",
        reply_markup=get_start_inline_keyboard(),
    )
    
    logger.info(
        "User started bot",
        telegram_id=message.from_user.id,
        balance=user.balance,
    )


@router.message(Command("help"))
async def cmd_help(message: Message, user: User) -> None:
    """ะะฑัะฐะฑะพััะธะบ ะบะพะผะฐะฝะดั /help."""
    from database.admin_crud import get_bot_setting
    
    free_credits = await get_bot_setting("free_credits", "1")
    
    await message.answer(
        HELP_MESSAGE.format(free_credits=free_credits),
        reply_markup=get_main_menu_keyboard(),
    )


@router.message(Command("create"))
async def cmd_create(
    message: Message,
    user: User,
    state: FSMContext,
) -> None:
    """ะะพะผะฐะฝะดะฐ /create - ะฝะฐัะฐัั ัะพะทะดะฐะฝะธะต ะขะ."""
    if user.balance <= 0:
        await message.answer(
            "โ <b>ะฃ ัะตะฑั ะทะฐะบะพะฝัะธะปะธัั ะบัะตะดะธัั!</b>\n\n"
            "ะะฐะถะผะธ ยซ๐ฐ ะะฐะปะฐะฝัยป ะธะปะธ /buy ะดะปั ะฟะพะฟะพะปะฝะตะฝะธั.",
            reply_markup=get_main_menu_keyboard(),
        )
        return
    
    await state.set_state(GenerationStates.waiting_photo)
    await state.update_data(photos=[])
    
    await message.answer(
        "๐ท <b>ะัะฟัะฐะฒั ัะพัะพ ัะพะฒะฐัะฐ</b>\n\n"
        "ะะพะถะฝะพ ะพัะฟัะฐะฒะธัั ะพั 1 ะดะพ 5 ัะพัะพะณัะฐัะธะน.\n"
        "ะงะตะผ ะฑะพะปััะต ัะพัะพ ั ัะฐะทะฝัั ัะฐะบัััะพะฒ โ ัะตะผ ะปัััะต ัะตะทัะปััะฐั!\n\n"
        "๐ก ะกะพะฒะตั: ะดะพะฑะฐะฒั ัะพัะพ ัะฟะฐะบะพะฒะบะธ ะธ ะดะตัะฐะปะตะน ัะพะฒะฐัะฐ",
    )
    
    logger.info("User started generation via /create", telegram_id=message.from_user.id)


@router.message(Command("balance"))
async def cmd_balance(message: Message, user: User) -> None:
    """ะะพะผะฐะฝะดะฐ /balance - ะฟะพะบะฐะทะฐัั ะฑะฐะปะฐะฝั."""
    telegram_id = message.from_user.id if message.from_user else 0
    stats = await get_user_stats(telegram_id)
    
    if user.balance > 5:
        status_text = "โ ะะพััะฐัะพัะฝะพ ะบัะตะดะธัะพะฒ ะดะปั ัะฐะฑะพัั"
    elif user.balance > 0:
        status_text = "โ๏ธ ะัะตะดะธัั ะทะฐะบะฐะฝัะธะฒะฐัััั, ะฟะพะฟะพะปะฝะธัะต ะฑะฐะปะฐะฝั"
    else:
        status_text = "โ ะัะตะดะธัั ะทะฐะบะพะฝัะธะปะธัั! ะะพะฟะพะปะฝะธัะต ะฑะฐะปะฐะฝั"
    
    text = BALANCE_MESSAGE.format(
        balance=user.balance,
        total_generations=stats.get("total_generations", 0),
        successful=stats.get("successful_generations", 0),
        status_text=status_text,
    )
    
    await message.answer(text, reply_markup=get_balance_keyboard())


@router.message(Command("buy"))
async def cmd_buy(message: Message, user: User) -> None:
    """ะะพะผะฐะฝะดะฐ /buy - ะบัะฟะธัั ะบัะตะดะธัั."""
    from bot.handlers.payments import show_packages
    
    # ะะผะธัะธััะตะผ callback ะดะปั ะฟะพะบะฐะทะฐ ะฟะฐะบะตัะพะฒ
    class FakeCallback:
        from_user = message.from_user
        message = message
        async def answer(self, *args, **kwargs): pass
    
    await show_packages(FakeCallback(), user)


@router.message(Command("history"))
async def cmd_history(message: Message, user: User) -> None:
    """ะะพะผะฐะฝะดะฐ /history - ะธััะพัะธั ะณะตะฝะตัะฐัะธะน."""
    telegram_id = message.from_user.id if message.from_user else 0
    generations = await get_user_generations(telegram_id, limit=10)
    
    if not generations:
        await message.answer(
            "๐ <b>ะััะพัะธั ะณะตะฝะตัะฐัะธะน</b>\n\n"
            "ะฃ ัะตะฑั ะฟะพะบะฐ ะฝะตั ัะพะทะดะฐะฝะฝัั ะขะ.\n"
            "ะะฐะถะผะธ ยซ๐ ะกะพะทะดะฐัั ะขะยป ะธะปะธ /create ััะพะฑั ะฝะฐัะฐัั!",
            reply_markup=get_main_menu_keyboard(),
        )
        return
    
    text = "๐ <b>ะะพัะปะตะดะฝะธะต ะณะตะฝะตัะฐัะธะธ:</b>\n\n"
    
    for gen in generations:
        date_str = gen.created_at.strftime("%d.%m.%Y %H:%M")
        category_emoji = {
            "clothes": "๐",
            "electronics": "๐ฑ",
            "cosmetics": "๐",
            "home": "๐",
            "kids": "๐ถ",
            "sports": "โฝ",
            "other": "๐ฆ",
        }.get(gen.category, "๐ฆ")
        
        quality = gen.quality_score or 0
        text += f"{category_emoji} {date_str} โ {quality}/100\n"
    
    await message.answer(text, reply_markup=get_main_menu_keyboard())


# ============================================================
# ะะะะะะะขะงะะะ ะะะะะะ ะะะะะะะะ ะะะะฎ
# ============================================================

@router.message(F.text.in_(["๐ธ ะกะพะทะดะฐัั ะขะ", "๐ ะกะพะทะดะฐัั ะขะ"]))
async def btn_create_tz(
    message: Message,
    user: User,
    state: FSMContext,
) -> None:
    """
    ะะฝะพะฟะบะฐ "ะกะพะทะดะฐัั ะขะ".
    
    ะัะพะฒะตััะตั ะฑะฐะปะฐะฝั ะธ ะฟะตัะตะฒะพะดะธั ะฒ ัะตะถะธะผ ะพะถะธะดะฐะฝะธั ัะพัะพ.
    """
    # ะัะพะฒะตััะตะผ ะฑะฐะปะฐะฝั
    if user.balance <= 0:
        await message.answer(
            "โ <b>ะฃ ัะตะฑั ะทะฐะบะพะฝัะธะปะธัั ะบัะตะดะธัั!</b>\n\n"
            "ะะฐะถะผะธ ยซ๐ฐ ะะฐะปะฐะฝัยป ะดะปั ะฟะพะฟะพะปะฝะตะฝะธั.",
            reply_markup=get_main_menu_keyboard(),
        )
        return
    
    # ะะตัะตะฒะพะดะธะผ ะฒ ัะพััะพัะฝะธะต ะพะถะธะดะฐะฝะธั ัะพัะพ
    await state.set_state(GenerationStates.waiting_photo)
    await state.update_data(photos=[])
    
    await message.answer(
        "๐ท <b>ะัะฟัะฐะฒั ัะพัะพ ัะพะฒะฐัะฐ</b>\n\n"
        "ะะพะถะฝะพ ะพัะฟัะฐะฒะธัั ะพั 1 ะดะพ 5 ัะพัะพะณัะฐัะธะน.\n"
        "ะงะตะผ ะฑะพะปััะต ัะพัะพ ั ัะฐะทะฝัั ัะฐะบัััะพะฒ โ ัะตะผ ะปัััะต ัะตะทัะปััะฐั!\n\n"
        "๐ก ะกะพะฒะตั: ะดะพะฑะฐะฒั ัะพัะพ ัะฟะฐะบะพะฒะบะธ ะธ ะดะตัะฐะปะตะน ัะพะฒะฐัะฐ",
    )
    
    logger.info(
        "User started generation",
        telegram_id=message.from_user.id,
        balance=user.balance,
    )


@router.message(F.text.in_(["๐ฐ ะะฐะปะฐะฝั", " ะะฐะปะฐะฝั"]))
async def btn_balance(
    message: Message,
    user: User,
) -> None:
    """ะะฝะพะฟะบะฐ "ะะฐะปะฐะฝั" - ะฟะพะบะฐะทัะฒะฐะตั ะฑะฐะปะฐะฝั ะธ ััะฐัะธััะธะบั."""
    telegram_id = message.from_user.id if message.from_user else 0
    stats = await get_user_stats(telegram_id)
    
    # ะคะพัะผะธััะตะผ ัะตะบัั ััะฐัััะฐ
    if user.balance > 5:
        status_text = "โ ะะพััะฐัะพัะฝะพ ะบัะตะดะธัะพะฒ ะดะปั ัะฐะฑะพัั"
    elif user.balance > 0:
        status_text = "โ๏ธ ะัะตะดะธัั ะทะฐะบะฐะฝัะธะฒะฐัััั"
    else:
        status_text = "โ ะัะตะดะธัั ะทะฐะบะพะฝัะธะปะธัั!"
    
    # ะะพะดััะธััะฒะฐะตะผ ััะฟะตัะฝัะต ะณะตะฝะตัะฐัะธะธ
    total = stats.get("generations_count", 0)
    
    await message.answer(
        BALANCE_MESSAGE.format(
            balance=user.balance,
            total_generations=total,
            successful=total,
            status_text=status_text,
        ),
        reply_markup=get_balance_keyboard(),
    )


@router.message(F.text.in_(["๐ ะััะพัะธั", "๐ ะะพะธ ะขะ", "๏ฟฝ ะััะพัะธั"]))
async def btn_history(
    message: Message,
    user: User,
) -> None:
    """ะะฝะพะฟะบะฐ "ะะพะธ ะขะ" - ะฟะพะบะฐะทัะฒะฐะตั ะฟะพัะปะตะดะฝะธะต ะณะตะฝะตัะฐัะธะธ."""
    telegram_id = message.from_user.id if message.from_user else 0
    generations = await get_user_generations(telegram_id, limit=10)
    
    if not generations:
        await message.answer(
            "๐ <b>ะะพะธ ะขะ</b>\n\n"
            "ะฃ ัะตะฑั ะฟะพะบะฐ ะฝะตั ัะพะทะดะฐะฝะฝัั ะขะ.\n"
            "ะะฐะถะผะธ ยซ๐ ะกะพะทะดะฐัั ะขะยป, ััะพะฑั ะฝะฐัะฐัั!",
            reply_markup=get_history_keyboard(),
        )
        return
    
    # ะคะพัะผะธััะตะผ ัะฟะธัะพะบ ะณะตะฝะตัะฐัะธะน
    lines = [
        "๐ <b>ะะพะธ ะฟะพัะปะตะดะฝะธะต ะขะ:</b>\n",
        "ะะฐะถะผะธ ะฝะฐ ะขะ, ััะพะฑั ัะบะฐัะฐัั ะธะปะธ ะฟะพัะผะพััะตัั ะฟะพะดัะพะฑะฝะพััะธ:\n",
    ]
    
    for i, gen in enumerate(generations[:5], 1):
        category = gen.category or "ะะตะท ะบะฐัะตะณะพัะธะธ"
        date_str = gen.created_at.strftime("%d.%m %H:%M")
        lines.append(f"{i}. โ {date_str} โ {category}")
    
    if len(generations) > 5:
        lines.append(f"\n<i>ะะพะบะฐะทะฐะฝั ะฟะพัะปะตะดะฝะธะต 5 ะธะท {len(generations)} ะขะ</i>")
    
    await message.answer(
        "\n".join(lines),
        reply_markup=get_history_keyboard(generations),
    )


@router.message(F.text == "๐ ะะตะฝั")
async def btn_menu(message: Message, user: User) -> None:
    """ะะฝะพะฟะบะฐ "ะะตะฝั" - ะฟะพะบะฐะทัะฒะฐะตั ะณะปะฐะฒะฝะพะต ะผะตะฝั ั ะพะฟะธัะฐะฝะธะตะผ ััะฝะบัะธะน."""
    from bot.keyboards import get_main_menu_keyboard
    
    await message.answer(
        MENU_MESSAGE,
        reply_markup=get_main_menu_keyboard(),
    )


@router.message(F.text == "๐ ะัะธะผะตัั")
async def btn_examples(message: Message, user: User) -> None:
    """ะะฝะพะฟะบะฐ "ะัะธะผะตัั" - ะฟะพะบะฐะทัะฒะฐะตั ะฟัะธะผะตัั ะณะพัะพะฒัั ะขะ."""
    from bot.keyboards import get_examples_keyboard
    
    await message.answer(
        EXAMPLES_MESSAGE,
        reply_markup=get_examples_keyboard(),
    )


@router.message(F.text == "๐ณ ะัะฟะธัั ะบัะตะดะธัั")
async def btn_buy_credits(message: Message) -> None:
    """ะะฝะพะฟะบะฐ "ะัะฟะธัั ะบัะตะดะธัั" - ะฟะพะบะฐะทัะฒะฐะตั ะฟะฐะบะตัั."""
    from bot.keyboards import get_packages_keyboard
    
    await message.answer(
        "๐ณ <b>ะัะฑะตัะธ ะฟะฐะบะตั ะบัะตะดะธัะพะฒ:</b>\n\n"
        "๐น <b>ะกัะฐัั</b> โ 5 ะขะ ะทะฐ 149โฝ (30โฝ/ัั)\n"
        "โญ <b>ะะฟัะธะผะฐะปัะฝัะน</b> โ 20 ะขะ ะทะฐ 399โฝ (20โฝ/ัั)\n"
        "๐ <b>ะัะพัะธ</b> โ 50 ะขะ ะทะฐ 699โฝ (14โฝ/ัั)\n\n"
        "ะัะฑะตัะธ ะฟะพะดัะพะดััะธะน ะฟะฐะบะตั:",
        reply_markup=get_packages_keyboard(),
    )


# ============================================================
# CALLBACK ะะะะะะะขะงะะะ ะะะฏ INLINE ะะะะะะ
# ============================================================

@router.callback_query(F.data == "start_generation")
async def callback_start_generation(
    callback: CallbackQuery,
    user: User,
    state: FSMContext,
) -> None:
    """Callback ะดะปั ะบะฝะพะฟะบะธ 'ะกะพะทะดะฐัั ะขะ'."""
    await callback.answer()
    
    # ะัะพะฒะตััะตะผ ะฑะฐะปะฐะฝั
    if user.balance <= 0:
        await callback.message.edit_text(
            "โ <b>ะฃ ัะตะฑั ะทะฐะบะพะฝัะธะปะธัั ะบัะตะดะธัั!</b>\n\n"
            "ะะฐะถะผะธ ยซ๐ฐ ะะฐะปะฐะฝัยป ะดะปั ะฟะพะฟะพะปะฝะตะฝะธั.",
        )
        return
    
    # ะะตัะตะฒะพะดะธะผ ะฒ ัะพััะพัะฝะธะต ะพะถะธะดะฐะฝะธั ัะพัะพ
    await state.set_state(GenerationStates.waiting_photo)
    await state.update_data(photos=[])
    
    await callback.message.edit_text(
        "๐ท <b>ะัะฟัะฐะฒั ัะพัะพ ัะพะฒะฐัะฐ</b>\n\n"
        "ะะพะถะฝะพ ะพัะฟัะฐะฒะธัั ะพั 1 ะดะพ 5 ัะพัะพะณัะฐัะธะน.\n"
        "ะงะตะผ ะฑะพะปััะต ัะพัะพ ั ัะฐะทะฝัั ัะฐะบัััะพะฒ โ ัะตะผ ะปัััะต ัะตะทัะปััะฐั!\n\n"
        "๐ก ะกะพะฒะตั: ะดะพะฑะฐะฒั ัะพัะพ ัะฟะฐะบะพะฒะบะธ ะธ ะดะตัะฐะปะตะน ัะพะฒะฐัะฐ",
    )


@router.callback_query(F.data == "show_examples")
async def callback_show_examples(callback: CallbackQuery) -> None:
    """Callback ะดะปั ะบะฝะพะฟะบะธ 'ะัะธะผะตัั ัะฐะฑะพั'."""
    from bot.keyboards import get_examples_keyboard
    
    await callback.answer()
    
    await callback.message.edit_text(
        EXAMPLES_MESSAGE,
        reply_markup=get_examples_keyboard(),
    )


@router.callback_query(F.data.startswith("example:"))
async def callback_show_example_category(callback: CallbackQuery) -> None:
    """Callback ะดะปั ะฟัะพัะผะพััะฐ ะฟัะธะผะตัะฐ ะฟะพ ะบะฐัะตะณะพัะธะธ."""
    from bot.keyboards import get_example_detail_keyboard
    
    await callback.answer()
    
    if not callback.data:
        return
    
    category = callback.data.split(":")[1]
    
    # ะะพะปััะฐะตะผ ะฟัะธะผะตั ะดะปั ะบะฐัะตะณะพัะธะธ
    example_text = EXAMPLES_BY_CATEGORY.get(category)
    
    if not example_text:
        await callback.answer("ะัะธะผะตั ะฝะต ะฝะฐะนะดะตะฝ", show_alert=True)
        return
    
    await callback.message.edit_text(
        example_text,
        reply_markup=get_example_detail_keyboard(category),
    )


@router.callback_query(F.data == "show_packages")
async def callback_show_packages(callback: CallbackQuery) -> None:
    """Callback ะดะปั ะบะฝะพะฟะบะธ 'ะขะฐัะธัั'."""
    from bot.keyboards import get_packages_keyboard
    
    await callback.answer()
    
    await callback.message.edit_text(
        "๐ณ <b>ะัะฑะตัะธ ะฟะฐะบะตั ะบัะตะดะธัะพะฒ:</b>\n\n"
        "๐น <b>ะกัะฐัั</b> โ 5 ะขะ ะทะฐ 149โฝ (30โฝ/ัั)\n"
        "โญ <b>ะะฟัะธะผะฐะปัะฝัะน</b> โ 20 ะขะ ะทะฐ 399โฝ (20โฝ/ัั)\n"
        "๐ <b>ะัะพัะธ</b> โ 50 ะขะ ะทะฐ 699โฝ (14โฝ/ัั)\n\n"
        "ะัะฑะตัะธ ะฟะพะดัะพะดััะธะน ะฟะฐะบะตั:",
        reply_markup=get_packages_keyboard(),
    )


@router.callback_query(F.data == "show_main_menu")
async def callback_show_main_menu(callback: CallbackQuery, user: User) -> None:
    """Callback ะดะปั ะบะฝะพะฟะบะธ 'ะ ะณะปะฐะฒะฝะพะต ะผะตะฝั'."""
    from bot.keyboards import get_main_menu_keyboard
    
    await callback.answer()
    
    await callback.message.edit_text(
        MENU_MESSAGE,
        reply_markup=get_main_menu_keyboard(),
    )


@router.callback_query(F.data == "show_balance")
async def callback_show_balance(callback: CallbackQuery, user: User) -> None:
    """Callback ะดะปั ะบะฝะพะฟะบะธ 'ะะฐะปะฐะฝั' โ ะฟัะพัะตััะธะพะฝะฐะปัะฝัะน ัะบัะฐะฝ ะฑะฐะปะฐะฝัะฐ."""
    from aiogram.utils.keyboard import InlineKeyboardBuilder
    
    await callback.answer()
    
    telegram_id = callback.from_user.id if callback.from_user else 0
    stats = await get_user_stats(telegram_id)
    
    # ะะฟัะตะดะตะปัะตะผ ัะผะพะดะทะธ ะธ ััะฐััั ะฑะฐะปะฐะฝัะฐ
    if user.balance >= 10:
        balance_emoji = "๐ข"
        status_text = "โ ะะพััะฐัะพัะฝะพ ะบัะตะดะธัะพะฒ ะดะปั ัะฐะฑะพัั"
    elif user.balance > 0:
        balance_emoji = "๐ก"
        status_text = "โ๏ธ ะัะตะดะธัั ะทะฐะบะฐะฝัะธะฒะฐัััั โ ะฟะพะฟะพะปะฝะธัะต ะฑะฐะปะฐะฝั"
    else:
        balance_emoji = "๐ด"
        status_text = "โ ะัะตะดะธัั ะทะฐะบะพะฝัะธะปะธัั!"
    
    # ะะพะดััะธััะฒะฐะตะผ ะณะตะฝะตัะฐัะธะธ
    total = stats.get("generations_count", 0)
    
    # ะคะพัะผะธััะตะผ ะฟัะพัะตััะธะพะฝะฐะปัะฝะพะต ัะพะพะฑัะตะฝะธะต ะพ ะฑะฐะปะฐะฝัะต
    text = (
        f"๐ฐ <b>ะะฐั ะฑะฐะปะฐะฝั</b>\n"
        f"โโโโโโโโโโโโโโโโโโโโโ\n\n"
        f"{balance_emoji} <b>{user.balance} ะบัะตะดะธัะพะฒ</b>\n\n"
        f"๐ <b>ะกัะฐัะธััะธะบะฐ:</b>\n"
        f"   โข ะกะณะตะฝะตัะธัะพะฒะฐะฝะพ ะขะ: {total}\n"
        f"   โข ะะฐัะฐ ัะตะณะธัััะฐัะธะธ: {user.created_at.strftime('%d.%m.%Y')}\n\n"
        f"{status_text}\n\n"
        f"โโโโโโโโโโโโโโโโโโโโโ\n"
        f"๐ณ <b>ะะพะฟะพะปะฝะธัั ะฑะฐะปะฐะฝั:</b>\n"
    )
    
    # ะะพะบะฐะทัะฒะฐะตะผ ะฒัะณะพะดะฝัะต ัะฐัะธัั
    if user.balance < 5:
        text += (
            f"\n๐ฅ <b>ะะตะบะพะผะตะฝะดัะตะผ:</b>\n"
            f"   โญ ะะฟัะธะผะฐะปัะฝัะน โ 25 ะขะ ะทะฐ 449โฝ (ัะบะพะฝะพะผะธั 40%)\n"
            f"   ๐ ะะตะทะปะธะผะธั โ 1 790โฝ/ะผะตััั ะฑะตะท ะพะณัะฐะฝะธัะตะฝะธะน\n"
        )
    
    # ะกะพะทะดะฐัะผ ะบะปะฐะฒะธะฐัััั
    builder = InlineKeyboardBuilder()
    builder.button(text="๐ณ ะะพะฟะพะปะฝะธัั ะฑะฐะปะฐะฝั", callback_data="show_packages")
    builder.button(text="๐ ะััะพัะธั ะฟะพะบัะฟะพะบ", callback_data="payment_history")
    builder.button(text="๐ ะ ะณะปะฐะฒะฝะพะต ะผะตะฝั", callback_data="show_main_menu")
    builder.adjust(2, 1)
    
    if callback.message:
        await callback.message.edit_text(
            text=text,
            reply_markup=builder.as_markup(),
            parse_mode="HTML",
        )


@router.callback_query(F.data == "show_history")
async def callback_show_history(callback: CallbackQuery, user: User) -> None:
    """Callback ะดะปั ะบะฝะพะฟะบะธ 'ะะพะธ ะขะ'."""
    await callback.answer()
    
    telegram_id = callback.from_user.id if callback.from_user else 0
    generations = await get_user_generations(telegram_id, limit=10)
    
    if not generations:
        await callback.message.edit_text(
            "๐ <b>ะะพะธ ะขะ</b>\n\n"
            "ะฃ ัะตะฑั ะฟะพะบะฐ ะฝะตั ัะพะทะดะฐะฝะฝัั ะขะ.\n"
            "ะะฐะถะผะธ ยซ๐ ะกะพะทะดะฐัั ะขะยป, ััะพะฑั ะฝะฐัะฐัั!",
            reply_markup=get_history_keyboard(),
        )
        return
    
    # ะคะพัะผะธััะตะผ ัะฟะธัะพะบ ะณะตะฝะตัะฐัะธะน
    lines = [
        "๐ <b>ะะพะธ ะฟะพัะปะตะดะฝะธะต ะขะ:</b>\n",
        "ะะฐะถะผะธ ะฝะฐ ะขะ, ััะพะฑั ัะบะฐัะฐัั ะธะปะธ ะฟะพัะผะพััะตัั ะฟะพะดัะพะฑะฝะพััะธ:\n",
    ]
    
    for i, gen in enumerate(generations[:5], 1):
        category = gen.category or "ะะตะท ะบะฐัะตะณะพัะธะธ"
        date_str = gen.created_at.strftime("%d.%m %H:%M")
        lines.append(f"{i}. โ {date_str} โ {category}")
    
    if len(generations) > 5:
        lines.append(f"\n<i>ะะพะบะฐะทะฐะฝั ะฟะพัะปะตะดะฝะธะต 5 ะธะท {len(generations)} ะขะ</i>")
    
    await callback.message.edit_text(
        "\n".join(lines),
        reply_markup=get_history_keyboard(generations),
    )


@router.callback_query(F.data.startswith("view_tz:"))
async def callback_view_tz(callback: CallbackQuery, user: User) -> None:
    """Callback ะดะปั ะฟัะพัะผะพััะฐ ะบะพะฝะบัะตัะฝะพะณะพ ะขะ."""
    await callback.answer()
    
    if not callback.data:
        return
    
    generation_id = int(callback.data.split(":")[1])
    generation = await get_generation_by_id(generation_id)
    
    if not generation:
        await callback.message.edit_text(
            "โ ะขะ ะฝะต ะฝะฐะนะดะตะฝะพ",
            reply_markup=get_history_keyboard(),
        )
        return
    
    category = generation.category or "ะะตะท ะบะฐัะตะณะพัะธะธ"
    date_str = generation.created_at.strftime("%d.%m.%Y %H:%M")
    
    # ะคะพัะผะธััะตะผ ัะพะพะฑัะตะฝะธะต ั ะธะฝัะพัะผะฐัะธะตะน ะพ ะขะ
    text = (
        f"๐ <b>ะขะตัะฝะธัะตัะบะพะต ะทะฐะดะฐะฝะธะต #{generation.id}</b>\n\n"
        f"๐ <b>ะะฐัะตะณะพัะธั:</b> {category}\n"
        f"๐ <b>ะะฐัะฐ ัะพะทะดะฐะฝะธั:</b> {date_str}\n"
    )
    
    if generation.quality_score:
        text += f"โญ <b>ะัะตะฝะบะฐ ะบะฐัะตััะฒะฐ:</b> {generation.quality_score}/100\n"
    
    # ะะพะฑะฐะฒะปัะตะผ ะบัะฐัะบัั ะฒัะดะตัะถะบั ะธะท ะขะ (ะฟะตัะฒัะต 500 ัะธะผะฒะพะปะพะฒ)
    if generation.tz_text:
        preview = generation.tz_text[:500]
        if len(generation.tz_text) > 500:
            preview += "..."
        text += f"\n<b>ะัะตะฒัั:</b>\n<code>{preview}</code>\n"
    
    text += (
        "\n๐ก <i>ะะฐะถะผะธ ยซะกะบะฐัะฐัั PDFยป ะดะปั ะฟะพะปะฝะพะน ะฒะตััะธะธ</i>\n\n"
        "โโโโโโโโโโโโโโโโโโโโ\n"
        "๐ <b>ะัะตะดะปะพะถะธ ะธะดะตั</b> โ ะทะฐ ะพัะธะณะธะฝะฐะปัะฝัั ะธะดะตั\n"
        "ะธะปะธ ะบะปัะฒัั ะฟัะฐะฒะบั ะดะฐะผ <b>+2 ะปะธะผะธัะฐ</b> ะฒ ะทะฝะฐะบ ะฑะปะฐะณะพะดะฐัะฝะพััะธ!"
    )
    
    await callback.message.edit_text(
        text,
        reply_markup=get_tz_detail_keyboard(generation_id),
    )


@router.callback_query(F.data == "suggest_idea")
async def callback_suggest_idea(callback: CallbackQuery) -> None:
    """Callback ะดะปั ะบะฝะพะฟะบะธ 'ะัะตะดะปะพะถะธัั ะธะดะตั'."""
    from bot.config import settings
    
    await callback.answer()
    
    # ะะพะปััะฐะตะผ username ะฐะดะผะธะฝะฐ ะธะท ะบะพะฝัะธะณะฐ
    admin_contact = f"@{settings.admin_username}" if hasattr(settings, 'admin_username') and settings.admin_username else "ะฐะดะผะธะฝะธัััะฐัะพัั"
    
    await callback.message.edit_text(
        "๐ก <b>ะัะตะดะปะพะถะธัั ะธะดะตั</b>\n\n"
        "ะััั ะบะปะฐััะฝะฐั ะธะดะตั ะธะปะธ ะฟัะตะดะปะพะถะตะฝะธะต ะฟะพ ัะปัััะตะฝะธั ะฑะพัะฐ?\n"
        "ะะฐััะป ะฑะฐะณ ะธะปะธ ัะพัะตัั ะฟัะตะดะปะพะถะธัั ะฝะพะฒัั ััะฝะบัะธั?\n\n"
        f"๐ฉ ะะฐะฟะธัะธ {admin_contact}\n\n"
        "๐ <b>ะะฐ ะพัะธะณะธะฝะฐะปัะฝัั ะธะดะตั ะธะปะธ ะบะปัะฒัั ะฟัะฐะฒะบั</b>\n"
        "ะฟะพะปััะธัั <b>+2 ะฑะตัะฟะปะฐัะฝัั ะปะธะผะธัะฐ</b> ะฒ ะทะฝะฐะบ ะฑะปะฐะณะพะดะฐัะฝะพััะธ!\n\n"
        "ะัะธะผะตัั ะธะดะตะน:\n"
        "โข ะะพะฒะฐั ะบะฐัะตะณะพัะธั ัะพะฒะฐัะพะฒ\n"
        "โข ะฃะปัััะตะฝะธะต ัะพัะผะฐัะฐ ะขะ\n"
        "โข ะะพะฒะฐั ะฟะพะปะตะทะฝะฐั ััะฝะบัะธั\n"
        "โข ะัะฟัะฐะฒะปะตะฝะธะต ะพัะธะฑะพะบ",
        reply_markup=get_back_keyboard("show_history"),
    )


@router.callback_query(F.data == "cancel")
async def callback_cancel(callback: CallbackQuery, user: User) -> None:
    """Callback ะดะปั ะบะฝะพะฟะบะธ 'ะัะผะตะฝะฐ' - ะฒะพะทะฒัะฐัะฐะตั ะฒ ะณะปะฐะฒะฝะพะต ะผะตะฝั."""
    from bot.keyboards import get_main_menu_keyboard
    
    await callback.answer()
    
    await callback.message.edit_text(
        MENU_MESSAGE,
        reply_markup=get_main_menu_keyboard(),
    )
