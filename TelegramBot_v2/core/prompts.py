"""
–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.

–°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è:
- –ê–Ω–∞–ª–∏–∑–∞ —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞ (Vision)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (Text)
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¢–ó
- –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–∏–∑–∫–æ–º –∫–∞—á–µ—Å—Ç–≤–µ
"""

from typing import Dict

# ============================================================
# –ö–û–ù–°–¢–ê–ù–¢–´ –í–ê–õ–ò–î–ê–¶–ò–ò
# ============================================================

# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –¢–ó
MIN_TZ_LENGTH = 2000

# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ –¢–ó
REQUIRED_SECTIONS = [
    "–¢–û–í–ê–†",
    "–¶–ï–õ–ï–í–ê–Ø –ê–£–î–ò–¢–û–†–ò–Ø",
    "–í–ò–ó–£–ê–õ–¨–ù–ê–Ø –ö–û–ù–¶–ï–ü–¶–ò–Ø",
    "–ì–õ–ê–í–ù–û–ï –§–û–¢–û",
    "–ò–ù–§–û–ì–†–ê–§–ò–ö–ê",
    "–ì–û–¢–û–í–´–ï –¢–ï–ö–°–¢–´",
    "–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–ò–ó–ê–ô–ù–ï–†–£",
    "A/B –¢–ï–°–¢",
]

# –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–∞–π–¥–æ–≤
MIN_SLIDES_COUNT = 5

# –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
CATEGORIES = {
    "clothes": "–û–¥–µ–∂–¥–∞ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã",
    "electronics": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞",
    "cosmetics": "–ö–æ—Å–º–µ—Ç–∏–∫–∞ –∏ —É—Ö–æ–¥",
    "home": "–¢–æ–≤–∞—Ä—ã –¥–ª—è –¥–æ–º–∞",
    "kids": "–î–µ—Ç—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã",
    "sports": "–°–ø–æ—Ä—Ç –∏ –æ—Ç–¥—ã—Ö",
    "other": "–î—Ä—É–≥–æ–µ",
}


# ============================================================
# –ü–†–û–ú–ü–¢ –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê –§–û–¢–û (VISION)
# ============================================================

VISION_ANALYSIS_PROMPT = """–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º Wildberries –∏ Ozon. 

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞ –∏ –¥–∞–π –ü–û–î–†–û–ë–ù–û–ï –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞.

–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ–ø–∏—à–∏:

1. –ß–¢–û –≠–¢–û –ó–ê –¢–û–í–ê–†
   - –¢–æ—á–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è (–æ–¥–µ–∂–¥–∞/—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞/–∫–æ—Å–º–µ—Ç–∏–∫–∞/—Ç–æ–≤–∞—Ä—ã –¥–ª—è –¥–æ–º–∞/–¥–µ—Ç—Å–∫–∏–µ —Ç–æ–≤–∞—Ä—ã/—Å–ø–æ—Ä—Ç/–¥—Ä—É–≥–æ–µ)
   - –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
   - –¢–∏–ø/–≤–∏–¥ —Ç–æ–≤–∞—Ä–∞
   - –ú–∞—Ç–µ—Ä–∏–∞–ª (–µ—Å–ª–∏ –≤–∏–¥–Ω–æ)
   - –†–∞–∑–º–µ—Ä/–≥–∞–±–∞—Ä–∏—Ç—ã (–µ—Å–ª–∏ –º–æ–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å)

2. –í–ù–ï–®–ù–ò–ô –í–ò–î
   - –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞
   - –§–æ—Ä–º–∞
   - –¢–µ–∫—Å—Ç—É—Ä–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏
   - –î–µ—Ç–∞–ª–∏ –∏ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–∏–∑–∞–π–Ω–∞
   - –õ–æ–≥–æ—Ç–∏–ø—ã/–Ω–∞–¥–ø–∏—Å–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

3. –û–°–û–ë–ï–ù–ù–û–°–¢–ò –ò –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê
   - –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–æ–≤–∞—Ä –æ—Å–æ–±–µ–Ω–Ω—ã–º
   - –í–∏–¥–∏–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –ö–∞—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (–ø–æ –≤–∏–¥—É)
   - –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è (–µ—Å–ª–∏ –≤–∏–¥–Ω–æ)

4. –î–õ–Ø –ö–û–ì–û –≠–¢–û–¢ –¢–û–í–ê–†
   - –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π –ø–æ–ª –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
   - –í–æ–∑—Ä–∞—Å—Ç–Ω–∞—è –≥—Ä—É–ø–ø–∞
   - –°–∏—Ç—É–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

5. –ö–û–ù–ö–£–†–ï–ù–¢–ù–´–ï –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê
   - –ß–µ–º –≤—ã–¥–µ–ª—è–µ—Ç—Å—è —Å—Ä–µ–¥–∏ –∞–Ω–∞–ª–æ–≥–æ–≤
   - –¶–µ–Ω–æ–≤–æ–π —Å–µ–≥–º–µ–Ω—Ç (–±—é–¥–∂–µ—Ç/—Å—Ä–µ–¥–Ω–∏–π/–ø—Ä–µ–º–∏—É–º)

–ü–∏—à–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.
–ë—É–¥—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º, –∏–∑–±–µ–≥–∞–π –æ–±—â–∏—Ö —Ñ—Ä–∞–∑.
–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 300-500 —Å–ª–æ–≤.

–ï—Å–ª–∏ –Ω–∞ —Ñ–æ—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∫—É—Ä—Å–æ–≤ ‚Äî –æ–ø–∏—à–∏ –í–°–ï –≤–∏–¥–∏–º—ã–µ –¥–µ—Ç–∞–ª–∏."""


# ============================================================
# –°–ò–°–¢–ï–ú–ù–´–ô –ü–†–û–ú–ü–¢ –î–õ–Ø –ì–ï–ù–ï–†–ê–¶–ò–ò –¢–ó
# ============================================================

TZ_SYSTEM_PROMPT = """–¢—ã ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥-–∞–Ω–∞–ª–∏—Ç–∏–∫ —Å 10-–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º —Ä–∞–±–æ—Ç—ã —Å –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏ Wildberries –∏ Ozon.

–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è (–¢–ó) –¥–ª—è –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–æ–≤–∞—Ä–æ–≤.

–ü–†–ê–í–ò–õ–ê:
1. –ü–∏—à–∏ –ö–û–ù–ö–†–ï–¢–ù–û ‚Äî –Ω–∏–∫–∞–∫–∏—Ö "–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å", —Ç–æ–ª—å–∫–æ "–∏—Å–ø–æ–ª—å–∑—É–π"
2. –£–∫–∞–∑—ã–≤–∞–π –¢–û–ß–ù–´–ï —Ü–≤–µ—Ç–∞ (HEX –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—è)
3. –î–∞–≤–∞–π –ò–ó–ú–ï–†–ò–ú–´–ï —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (—Ä–∞–∑–º–µ—Ä—ã —à—Ä–∏—Ñ—Ç–æ–≤, –æ—Ç—Å—Ç—É–ø—ã)
4. –£—á–∏—Ç—ã–≤–∞–π —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ (—Ñ–æ—Ä–º–∞—Ç 900x1200, —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)
5. –ö–∞–∂–¥—ã–π —Å–ª–∞–π–¥ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏ –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å –û–î–ù–£ –∑–∞–¥–∞—á—É
6. –¢–µ–∫—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ü–†–û–î–ê–Æ–©–ò–ú–ò, —Å —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏ –∏ —Ü–∏—Ñ—Ä–∞–º–∏

–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
- –≠–º–æ–¥–∑–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ç–µ–∫—Å—Ç–æ–≤
- –ß—ë—Ç–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–∏–∑–∞–π–Ω–µ—Ä—É"""


# ============================================================
# –û–°–ù–û–í–ù–û–ô –ü–†–û–ú–ü–¢ –ì–ï–ù–ï–†–ê–¶–ò–ò –¢–ó
# ============================================================

TZ_GENERATION_PROMPT = """–ù–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —Å–æ–∑–¥–∞–π –ü–û–õ–ù–û–ï —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –¥–ª—è –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ {marketplace}.

–û–ü–ò–°–ê–ù–ò–ï –¢–û–í–ê–†–ê:
{product_description}

–ö–ê–¢–ï–ì–û–†–ò–Ø: {category}

{category_specifics}

---

–°–¢–†–£–ö–¢–£–†–ê –¢–ó (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—Å–µ 8 —Å–µ–∫—Ü–∏–π):

## 1. üì¶ –¢–û–í–ê–†
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è
- –ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏ (SEO-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ)
- –ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (5-7 –ø—É–Ω–∫—Ç–æ–≤)
- –£–¢–ü (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Ç–æ—Ä–≥–æ–≤–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ) ‚Äî 1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

## 2. üéØ –¶–ï–õ–ï–í–ê–Ø –ê–£–î–ò–¢–û–†–ò–Ø
- –ü–æ–ª –∏ –≤–æ–∑—Ä–∞—Å—Ç
- –£—Ä–æ–≤–µ–Ω—å –¥–æ—Ö–æ–¥–∞
- –ë–æ–ª–∏ –∏ –ø—Ä–æ–±–ª–µ–º—ã (3-5 –ø—É–Ω–∫—Ç–æ–≤)
- –ú–æ—Ç–∏–≤–∞—Ü–∏—è –∫ –ø–æ–∫—É–ø–∫–µ (3-5 –ø—É–Ω–∫—Ç–æ–≤)
- –í–æ–∑—Ä–∞–∂–µ–Ω–∏—è –∏ –∫–∞–∫ –∏—Ö —Å–Ω—è—Ç—å

## 3. üé® –í–ò–ó–£–ê–õ–¨–ù–ê–Ø –ö–û–ù–¶–ï–ü–¶–ò–Ø
- –°—Ç–∏–ª—å –¥–∏–∑–∞–π–Ω–∞ (–º–∏–Ω–∏–º–∞–ª–∏–∑–º/—è—Ä–∫–∏–π/–ø—Ä–µ–º–∏—É–º/–º–æ–ª–æ–¥—ë–∂–Ω—ã–π)
- –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ (HEX-–∫–æ–¥—ã): —Ñ–æ–Ω, –∞–∫—Ü–µ–Ω—Ç, —Ç–µ–∫—Å—Ç
- –®—Ä–∏—Ñ—Ç—ã: –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ + —Ä–∞–∑–º–µ—Ä), —Ç–µ–∫—Å—Ç (–Ω–∞–∑–≤–∞–Ω–∏–µ + —Ä–∞–∑–º–µ—Ä)
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ/—ç–º–æ—Ü–∏—è –∫–æ—Ç–æ—Ä—É—é –ø–µ—Ä–µ–¥–∞—ë–º
- –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã —Å—Ç–∏–ª—è (–æ–ø–∏—Å–∞–Ω–∏–µ, –Ω–µ —Å—Å—ã–ª–∫–∏)

## 4. üì∏ –ì–õ–ê–í–ù–û–ï –§–û–¢–û (—Å–ª–∞–π–¥ 1)
- –†–∞–∫—É—Ä—Å —Ç–æ–≤–∞—Ä–∞ (—Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω—ã–π/3/4/—Å–≤–µ—Ä—Ö—É)
- –§–æ–Ω (—Ü–≤–µ—Ç –∏–ª–∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç —Å HEX)
- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è (–≥–¥–µ —Ç–æ–≤–∞—Ä, –≥–¥–µ —Ç–µ–∫—Å—Ç)
- –û—Å–≤–µ—â–µ–Ω–∏–µ (–º—è–≥–∫–æ–µ/–∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–µ/—Å—Ç—É–¥–∏–π–Ω–æ–µ)
- –ì–ª–∞–≤–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (—Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç, 3-5 —Å–ª–æ–≤)
- –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏–ª–∏ –£–¢–ü (—Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç)

## 5. üìä –ò–ù–§–û–ì–†–ê–§–ò–ö–ê (5 —Å–ª–∞–π–¥–æ–≤)

### –°–ª–∞–π–¥ 2: [–ù–∞–∑–≤–∞–Ω–∏–µ]
- –¶–µ–ª—å —Å–ª–∞–π–¥–∞
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç)
- –ö–æ–Ω—Ç–µ–Ω—Ç (–±—É–ª–ª–µ—Ç—ã/–∏–∫–æ–Ω–∫–∏/—Ü–∏—Ñ—Ä—ã)
- –í–∏–∑—É–∞–ª (—á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ)

### –°–ª–∞–π–¥ 3: [–ù–∞–∑–≤–∞–Ω–∏–µ]
- –¶–µ–ª—å —Å–ª–∞–π–¥–∞
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç)
- –ö–æ–Ω—Ç–µ–Ω—Ç
- –í–∏–∑—É–∞–ª

### –°–ª–∞–π–¥ 4: [–ù–∞–∑–≤–∞–Ω–∏–µ]
- –¶–µ–ª—å —Å–ª–∞–π–¥–∞
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç)
- –ö–æ–Ω—Ç–µ–Ω—Ç
- –í–∏–∑—É–∞–ª

### –°–ª–∞–π–¥ 5: [–ù–∞–∑–≤–∞–Ω–∏–µ]
- –¶–µ–ª—å —Å–ª–∞–π–¥–∞
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç)
- –ö–æ–Ω—Ç–µ–Ω—Ç
- –í–∏–∑—É–∞–ª

### –°–ª–∞–π–¥ 6: [–ù–∞–∑–≤–∞–Ω–∏–µ]
- –¶–µ–ª—å —Å–ª–∞–π–¥–∞
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç)
- –ö–æ–Ω—Ç–µ–Ω—Ç
- –í–∏–∑—É–∞–ª

## 6. ‚úçÔ∏è –ì–û–¢–û–í–´–ï –¢–ï–ö–°–¢–´

### –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ (–¥–æ 60 —Å–∏–º–≤–æ–ª–æ–≤)
[–¢–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç]

### –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–¥–æ 1000 —Å–∏–º–≤–æ–ª–æ–≤)
[–¢–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç —Å –∞–±–∑–∞—Ü–∞–º–∏]

### –ë—É–ª–ª–µ—Ç-–ø–æ–∏–Ω—Ç—ã (5 —à—Ç—É–∫)
1. [–¢–µ–∫—Å—Ç]
2. [–¢–µ–∫—Å—Ç]
3. [–¢–µ–∫—Å—Ç]
4. [–¢–µ–∫—Å—Ç]
5. [–¢–µ–∫—Å—Ç]

## 7. ‚ö†Ô∏è –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–ò–ó–ê–ô–ù–ï–†–£

### ‚úÖ –í–∞–∂–Ω–æ:
- [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 1]
- [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 2]
- [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è 3]

### ‚ùå –ù–µ–ª—å–∑—è:
- [–ó–∞–ø—Ä–µ—Ç 1]
- [–ó–∞–ø—Ä–µ—Ç 2]
- [–ó–∞–ø—Ä–µ—Ç 3]

### üí° –°–æ–≤–µ—Ç—ã:
- [–°–æ–≤–µ—Ç 1]
- [–°–æ–≤–µ—Ç 2]

## 8. üß™ –ò–î–ï–ò –î–õ–Ø A/B –¢–ï–°–¢–û–í
- –¢–µ—Å—Ç 1: [–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º] ‚Äî [–í–∞—Ä–∏–∞–Ω—Ç A] vs [–í–∞—Ä–∏–∞–Ω—Ç B]
- –¢–µ—Å—Ç 2: [–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º] ‚Äî [–í–∞—Ä–∏–∞–Ω—Ç A] vs [–í–∞—Ä–∏–∞–Ω—Ç B]
- –¢–µ—Å—Ç 3: [–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º] ‚Äî [–í–∞—Ä–∏–∞–Ω—Ç A] vs [–í–∞—Ä–∏–∞–Ω—Ç B]

---

–¢–†–ï–ë–û–í–ê–ù–ò–Ø:
- –ú–∏–Ω–∏–º—É–º 2000 —Å–∏–º–≤–æ–ª–æ–≤
- –í—Å–µ —Å–µ–∫—Ü–∏–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã —Ç–µ–∫—Å—Ç–æ–≤, –Ω–µ —à–∞–±–ª–æ–Ω—ã
- –£—á–∏—Ç—ã–≤–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "{category}"
- –¢–µ–∫—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ"""


# ============================================================
# –°–ü–ï–¶–ò–§–ò–ö–ê –ü–û –ö–ê–¢–ï–ì–û–†–ò–Ø–ú
# ============================================================

CATEGORY_SPECIFICS: Dict[str, str] = {
    "clothes": """
–°–ü–ï–¶–ò–§–ò–ö–ê –ö–ê–¢–ï–ì–û–†–ò–ò "–û–î–ï–ñ–î–ê":
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–∞–∑–º–µ—Ä–Ω—É—é —Å–µ—Ç–∫—É
- –ê–∫—Ü–µ–Ω—Ç –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–µ –∏ —Å–æ—Å—Ç–∞–≤–µ —Ç–∫–∞–Ω–∏
- –§–æ—Ç–æ –Ω–∞ –º–æ–¥–µ–ª–∏ vs –Ω–∞ –≤–µ—à–∞–ª–∫–µ
- –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–≤–∞—Ä –≤ —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–∞—Ö (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –£–∫–∞–∑–∞—Ç—å —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç—å
- –í–∞–∂–Ω—ã –¥–µ—Ç–∞–ª–∏: —à–≤—ã, —Ñ—É—Ä–Ω–∏—Ç—É—Ä–∞, –±–∏—Ä–∫–∏
""",
    
    "electronics": """
–°–ü–ï–¶–ò–§–ò–ö–ê –ö–ê–¢–ï–ì–û–†–ò–ò "–≠–õ–ï–ö–¢–†–û–ù–ò–ö–ê":
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–µ
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º–∏ (–±–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏–π)
- –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å
- –ì–∞—Ä–∞–Ω—Ç–∏—è –∏ —Å–µ—Ä–≤–∏—Å
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è)
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
""",
    
    "cosmetics": """
–°–ü–ï–¶–ò–§–ò–ö–ê –ö–ê–¢–ï–ì–û–†–ò–ò "–ö–û–°–ú–ï–¢–ò–ö–ê":
- –°–æ—Å—Ç–∞–≤ ‚Äî –≤—ã–¥–µ–ª–∏—Ç—å –∫–ª—é—á–µ–≤—ã–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
- –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–¥–æ/–ø–æ—Å–ª–µ –µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
- –°–ø–æ—Å–æ–± –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
- –û–±—ä—ë–º –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–æ—Å—Ç—å
- –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ç–∏–ø–∞ –∫–æ–∂–∏/–≤–æ–ª–æ—Å
""",
    
    "home": """
–°–ü–ï–¶–ò–§–ò–ö–ê –ö–ê–¢–ï–ì–û–†–ò–ò "–¢–û–í–ê–†–´ –î–õ–Ø –î–û–ú–ê":
- –†–∞–∑–º–µ—Ä—ã –≤ —Å–º (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
- –ú–∞—Ç–µ—Ä–∏–∞–ª –∏ —É—Ö–æ–¥
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—å–µ—Ä–µ
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –°–±–æ—Ä–∫–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
- –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
""",
    
    "kids": """
–°–ü–ï–¶–ò–§–ò–ö–ê –ö–ê–¢–ï–ì–û–†–ò–ò "–î–ï–¢–°–ö–ò–ï –¢–û–í–ê–†–´":
- –í–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, –º–∞—Ç–µ—Ä–∏–∞–ª—ã)
- –†–∞–∑–≤–∏–≤–∞—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü—Ä–æ—á–Ω–æ—Å—Ç—å –∏ –¥–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —É—Ö–æ–¥–∞
- –Ø—Ä–∫–∏–π –¥–∏–∑–∞–π–Ω, –ø—Ä–∏–≤–ª–µ–∫–∞—é—â–∏–π –¥–µ—Ç–µ–π
""",
    
    "sports": """
–°–ü–ï–¶–ò–§–ò–ö–ê –ö–ê–¢–ï–ì–û–†–ò–ò "–°–ü–û–†–¢":
- –î–ª—è –∫–∞–∫–æ–≥–æ –≤–∏–¥–∞ —Å–ø–æ—Ä—Ç–∞
- –£—Ä–æ–≤–µ–Ω—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ (–Ω–∞—á–∏–Ω–∞—é—â–∏–π/–ø—Ä–æ)
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –ò–∑–Ω–æ—Å–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å
- –í–µ—Å –∏ –≥–∞–±–∞—Ä–∏—Ç—ã
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –¥—Ä—É–≥–∏–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä—ë–º
""",
    
    "other": """
–û–ë–©–ò–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:
- –§–æ–∫—É—Å –Ω–∞ —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
- –ü–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —á—Ç–æ —ç—Ç–æ –∏ –∑–∞—á–µ–º
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ –∞–Ω–∞–ª–æ–≥–∞–º–∏
- –ö–∞—á–µ—Å—Ç–≤–æ –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å
""",
}


# ============================================================
# –ü–†–û–ú–ü–¢ –ü–ï–†–ï–ì–ï–ù–ï–†–ê–¶–ò–ò
# ============================================================

TZ_REGENERATION_PROMPT = """–ü–†–ï–î–´–î–£–©–ï–ï –¢–ó –ë–´–õ–û –ù–ï–î–û–°–¢–ê–¢–û–ß–ù–û –ö–ê–ß–ï–°–¢–í–ï–ù–ù–´–ú.

–ü–†–û–ë–õ–ï–ú–´ –ü–†–ï–î–´–î–£–©–ï–ì–û –¢–ó:
{validation_issues}

–û–ü–ò–°–ê–ù–ò–ï –¢–û–í–ê–†–ê:
{product_description}

–ö–ê–¢–ï–ì–û–†–ò–Ø: {category}

---

–°–æ–∑–¥–∞–π –ù–û–í–û–ï, –£–õ–£–ß–®–ï–ù–ù–û–ï –¢–ó —Å —É—á—ë—Ç–æ–º —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

–û–°–û–ë–û–ï –í–ù–ò–ú–ê–ù–ò–ï:
1. –í–°–ï 8 —Å–µ–∫—Ü–∏–π –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ü–û–õ–ù–û–°–¢–¨–Æ
2. –ö–∞–∂–¥—ã–π —Å–ª–∞–π–¥ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∏ ‚Äî –ü–û–î–†–û–ë–ù–û (–∑–∞–≥–æ–ª–æ–≤–æ–∫, –∫–æ–Ω—Ç–µ–Ω—Ç, –≤–∏–∑—É–∞–ª)
3. –ö–û–ù–ö–†–ï–¢–ù–´–ï —Ç–µ–∫—Å—Ç—ã ‚Äî –Ω–µ "–Ω–∞–ø–∏—à–∏—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫", –∞ —Å–∞–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
4. –¶–≤–µ—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ HEX (#FFFFFF)
5. –ú–∏–Ω–∏–º—É–º 2500 —Å–∏–º–≤–æ–ª–æ–≤

""" + TZ_GENERATION_PROMPT


# ============================================================
# –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
# ============================================================

def get_category_specifics(category: str) -> str:
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–º–ø—Ç–∞.
    
    Args:
        category: –ö–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (clothes, electronics, etc.)
        
    Returns:
        –¢–µ–∫—Å—Ç —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    """
    return CATEGORY_SPECIFICS.get(category, CATEGORY_SPECIFICS["other"])


def get_category_name(category: str) -> str:
    """
    –ü–æ–ª—É—á–∏—Ç—å —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.
    
    Args:
        category: –ö–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        
    Returns:
        –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
    """
    return CATEGORIES.get(category, "–î—Ä—É–≥–æ–µ")


def build_tz_prompt(
    product_description: str,
    category: str,
    marketplace: str = "Wildberries –∏ Ozon",
) -> str:
    """
    –°–æ–±–∏—Ä–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¢–ó.
    
    Args:
        product_description: –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (—Ä–µ–∑—É–ª—å—Ç–∞—Ç Vision –∞–Ω–∞–ª–∏–∑–∞)
        category: –ö–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–∞
        marketplace: –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
        
    Returns:
        –ì–æ—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è Text AI
    """
    return TZ_GENERATION_PROMPT.format(
        product_description=product_description,
        category=get_category_name(category),
        category_specifics=get_category_specifics(category),
        marketplace=marketplace,
    )


def build_regeneration_prompt(
    product_description: str,
    category: str,
    validation_issues: str,
    marketplace: str = "Wildberries –∏ Ozon",
) -> str:
    """
    –°–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¢–ó.
    
    Args:
        product_description: –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
        category: –ö–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        validation_issues: –°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –¢–ó
        marketplace: –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞
        
    Returns:
        –ì–æ—Ç–æ–≤—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —É–ª—É—á—à–µ–Ω–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
    """
    return TZ_REGENERATION_PROMPT.format(
        product_description=product_description,
        category=get_category_name(category),
        category_specifics=get_category_specifics(category),
        validation_issues=validation_issues,
        marketplace=marketplace,
    )
